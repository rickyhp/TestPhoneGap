// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var m=!0,n=null,q=!1;function L(){return function(){}}function P(d){return function(){return this[d]}}function S(d){return function(){return d}}var T,aa,ba,U,ca,da,ea,ga,ha,ia,ja,ka,la,ma,pa,qa,ra,V,sa,ta,ua,wa,xa,ya,Aa,Ba,Ca,Da,Ea,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,eb,fb,gb,X,hb,ib,jb,Y,kb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(d){return d.__proto__}:function(d){return d.constructor.prototype});
(function(){function d(c,a,b,f){this.set(c,a,b,f)}function g(){this.pb=this.ob=this.rb=this.qb=this.zb=this.yb=this.Na=this.Ma=0}function l(){this.Kc={};this.ef=0;this.Gf=[];this.Ne=m}function p(){this.xb=this.Og=this.y=this.fh=0}function a(c){this.Bi=[];this.zf(c)}T=function(c){window.console&&window.console.log&&window.console.log(c)};aa=function(c){return"undefined"===typeof c};ba=function(c){return"number"===typeof c};U=function(c){return"string"===typeof c};ca=function(c){return 0<c&&0===(c-
1&c)};da=function(c){return 0>c?-c:c};ea=function(c,a){return c>a?c:a};ga=function(c,a){return c<a?c:a};ha=Math.PI;ia=function(c){return c|0};ja=function(c,a,b,f,k,w,x,s){if(ea(c,b)<ga(k,x)||ga(c,b)>ea(k,x)||ea(a,f)<ga(w,s)||ga(a,f)>ea(w,s))return q;var y=k-c+x-b,u=w-a+s-f;c=b-c;a=f-a;k=x-k;w=s-w;s=da(a*k-w*c);return da(k*u-w*y)<=s&&da(c*u-a*y)<=s};d.prototype.set=function(c,a,b,f){this.left=c;this.top=a;this.right=b;this.bottom=f};d.prototype.width=function(){return this.right-this.left};d.prototype.height=
function(){return this.bottom-this.top};d.prototype.offset=function(c,a){this.left+=c;this.top+=a;this.right+=c;this.bottom+=a;return this};d.prototype.Xc=function(c,a){return c>=this.left&&c<=this.right&&a>=this.top&&a<=this.bottom};ka=d;g.prototype.Qi=function(c){this.Ma=c.left;this.Na=c.top;this.yb=c.right;this.zb=c.top;this.qb=c.right;this.rb=c.bottom;this.ob=c.left;this.pb=c.bottom};g.prototype.ll=function(c,a){if(0===a)this.Qi(c);else{var b=Math.sin(a),f=Math.cos(a),k=c.left*b,w=c.top*b,x=c.right*
b,b=c.bottom*b,s=c.left*f,y=c.top*f,u=c.right*f,f=c.bottom*f;this.Ma=s-w;this.Na=y+k;this.yb=u-w;this.zb=y+x;this.qb=u-b;this.rb=f+x;this.ob=s-b;this.pb=f+k}};g.prototype.offset=function(c,a){this.Ma+=c;this.Na+=a;this.yb+=c;this.zb+=a;this.qb+=c;this.rb+=a;this.ob+=c;this.pb+=a;return this};g.prototype.Aj=function(a){a.left=ga(ga(this.Ma,this.yb),ga(this.qb,this.ob));a.top=ga(ga(this.Na,this.zb),ga(this.rb,this.pb));a.right=ea(ea(this.Ma,this.yb),ea(this.qb,this.ob));a.bottom=ea(ea(this.Na,this.zb),
ea(this.rb,this.pb))};g.prototype.Xc=function(a,b){var h=this.yb-this.Ma,f=this.zb-this.Na,k=this.qb-this.Ma,w=this.rb-this.Na,x=a-this.Ma,s=b-this.Na,y=h*h+f*f,u=h*k+f*w,f=h*x+f*s,r=k*k+w*w,v=k*x+w*s,D=1/(y*r-u*u),h=(r*f-u*v)*D,y=(y*v-u*f)*D;if(0<=h&&0<y&&1>h+y)return m;h=this.ob-this.Ma;f=this.pb-this.Na;y=h*h+f*f;u=h*k+f*w;f=h*x+f*s;D=1/(y*r-u*u);h=(r*f-u*v)*D;y=(y*v-u*f)*D;return 0<=h&&0<y&&1>h+y};la=g;ma=function(a,b){for(var h in b)b.hasOwnProperty(h)&&(a[h]=b[h]);return a};pa=function(a,b){var h,
f;b=ia(b);if(!(0>b||b>=a.length))if(0===b)a.shift();else if(b===a.length-1)a.pop();else{h=b;for(f=a.length-1;h<f;h++)a[h]=a[h+1];a.length=f}};qa=function(a,b){a.length=b.length;var h,f;h=0;for(f=b.length;h<f;h++)a[h]=b[h]};ra=function(a,b){var h=a.indexOf(b);-1!==h&&pa(a,h)};V=function(a){return a/(180/ha)};sa=function(a){return a*(180/ha)};ta=function(a){a%=360;0>a&&(a+=360);return a};ua=function(a){a%=2*ha;0>a&&(a+=2*ha);return a};wa=function(a){return ta(sa(a))};xa=function(a){return ua(V(a))};
ya=function(a,b,h,f){return Math.atan2(f-b,h-a)};Aa=function(a,b){if(a===b)return 0;var h=Math.sin(a),f=Math.cos(a),k=Math.sin(b),w=Math.cos(b),h=h*k+f*w;return 1<=h?0:-1>=h?ha:Math.acos(h)};Ba=function(a,b,h){var f=Math.sin(a),k=Math.cos(a),w=Math.sin(b),x=Math.cos(b);return Math.acos(f*w+k*x)>h?0<k*w-f*x?ua(a+h):ua(a-h):ua(b)};Ca=function(a,b){var h=Math.sin(a),f=Math.cos(a),k=Math.sin(b),w=Math.cos(b);return 0>=f*k-h*w};Da=function(a,b,h,f){a=h-a;b=f-b;return Math.sqrt(a*a+b*b)};Ea=function(a,
b){return!a!==!b};Ha=function(a){for(var b in a)if(a.hasOwnProperty(b))return m;return q};Ia=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};Ja=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()};l.prototype.contains=function(a){return this.Kc.hasOwnProperty(a.toString())};l.prototype.add=
function(a){var b=a.toString();this.Kc.hasOwnProperty(b)||(this.Kc[b]=a,this.ef++,this.Ne=q);return this};l.prototype.remove=function(a){a=a.toString();this.Kc.hasOwnProperty(a)&&(delete this.Kc[a],this.ef--,this.Ne=q);return this};l.prototype.clear=function(){Ia(this.Kc);this.ef=0;this.Gf.length=0;this.Ne=m;return this};l.prototype.$e=function(){return 0===this.ef};l.prototype.bp=function(){if(!this.Ne){this.Gf.length=this.ef;var a,b=0;for(a in this.Kc)this.Kc.hasOwnProperty(a)&&(this.Gf[b++]=this.Kc[a]);
this.Ne=m}};l.prototype.Ff=function(){this.bp();return this.Gf};Ka=l;p.prototype.add=function(a){this.y=a-this.fh;this.Og=this.xb+this.y;this.fh=this.Og-this.xb-this.y;this.xb=this.Og};p.prototype.reset=function(){this.xb=this.Og=this.y=this.fh=0};La=p;Ma=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};a.prototype.zf=function(a){this.bl=a;this.cl=a.length/2;this.Bi.length=a.length;this.gh=this.Mf=-1;this.Bj=0};a.prototype.fo=function(){return!this.bl.length};a.prototype.vm=function(a,
b,h){if(!(this.Mf===a&&this.gh===b&&this.Bj===h)){this.Mf=a;this.gh=b;this.Bj=h;var f,k,w,x=0,s=1,y=this.bl,u=this.Bi;0!==h&&(x=Math.sin(h),s=Math.cos(h));h=0;for(f=this.cl;h<f;h++)k=y[2*h]*a,w=y[2*h+1]*b,u[2*h]=k*s-w*x,u[2*h+1]=w*s+k*x}};a.prototype.Xc=function(a,b){var h=this.Bi;if(a===h[0]&&b===h[1])return m;var f=5*-this.Mf-1,k=5*-this.gh-1,w=5*this.Mf+1,x,s,y,u,r,v,D=0,d=0;r=0;for(v=this.cl;r<v;r++)x=h[2*r],s=h[2*r+1],y=h[2*((r+1)%v)],u=h[2*((r+1)%v)+1],ja(f,k,a,b,x,s,y,u)&&D++,ja(w,-1,a,b,x,
s,y,u)&&d++;return 1===D%2||1===d%2};Na=a;var b="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Oa=function(a){return 0>=a||11<=a?"source-over":b[a-1]};Pa=function(a,b,h){if(h)switch(a.La=h.ONE,a.Ia=h.ONE_MINUS_SRC_ALPHA,b){case 1:a.La=h.ONE;a.Ia=h.ONE;break;case 3:a.La=h.ONE;a.Ia=h.ZERO;break;case 4:a.La=h.ONE_MINUS_DST_ALPHA;a.Ia=h.ONE;break;case 5:a.La=h.DST_ALPHA;a.Ia=h.ZERO;break;case 6:a.La=h.ZERO;a.Ia=h.SRC_ALPHA;
break;case 7:a.La=h.ONE_MINUS_DST_ALPHA;a.Ia=h.ZERO;break;case 8:a.La=h.ZERO;a.Ia=h.ONE_MINUS_SRC_ALPHA;break;case 9:a.La=h.DST_ALPHA;a.Ia=h.ONE_MINUS_SRC_ALPHA;break;case 10:a.La=h.ONE_MINUS_DST_ALPHA,a.Ia=h.SRC_ALPHA}};Qa=function(a){return Math.round(1E6*a)/1E6}})();var lb="undefined"!==typeof Float32Array?Float32Array:Array;function mb(d){var g=new lb(3);d&&(g[0]=d[0],g[1]=d[1],g[2]=d[2]);return g}
function nb(d){var g=new lb(16);d&&(g[0]=d[0],g[1]=d[1],g[2]=d[2],g[3]=d[3],g[4]=d[4],g[5]=d[5],g[6]=d[6],g[7]=d[7],g[8]=d[8],g[9]=d[9],g[10]=d[10],g[11]=d[11],g[12]=d[12],g[13]=d[13],g[14]=d[14],g[15]=d[15]);return g}function ob(d,g){g[0]=d[0];g[1]=d[1];g[2]=d[2];g[3]=d[3];g[4]=d[4];g[5]=d[5];g[6]=d[6];g[7]=d[7];g[8]=d[8];g[9]=d[9];g[10]=d[10];g[11]=d[11];g[12]=d[12];g[13]=d[13];g[14]=d[14];g[15]=d[15]}
function pb(d,g){var l=g[0],p=g[1];g=g[2];d[0]*=l;d[1]*=l;d[2]*=l;d[3]*=l;d[4]*=p;d[5]*=p;d[6]*=p;d[7]*=p;d[8]*=g;d[9]*=g;d[10]*=g;d[11]*=g}
function qb(d,g,l,p){p||(p=nb());var a,b,c,e,h,f,k,w,x=d[0],s=d[1];d=d[2];b=l[0];c=l[1];a=l[2];l=g[1];f=g[2];x===g[0]&&s===l&&d===f?(d=p,d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=1,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1):(l=x-g[0],f=s-g[1],k=d-g[2],w=1/Math.sqrt(l*l+f*f+k*k),l*=w,f*=w,k*=w,g=c*k-a*f,a=a*l-b*k,b=b*f-c*l,(w=Math.sqrt(g*g+a*a+b*b))?(w=1/w,g*=w,a*=w,b*=w):b=a=g=0,c=f*b-k*a,e=k*g-l*b,h=l*a-f*g,(w=Math.sqrt(c*c+e*e+h*h))?(w=1/w,c*=w,e*=w,h*=w):h=e=c=0,
p[0]=g,p[1]=c,p[2]=l,p[3]=0,p[4]=a,p[5]=e,p[6]=f,p[7]=0,p[8]=b,p[9]=h,p[10]=k,p[11]=0,p[12]=-(g*x+a*s+b*d),p[13]=-(c*x+e*s+h*d),p[14]=-(l*x+f*s+k*d),p[15]=1)}
(function(){function d(a){this.height=this.width=0;this.Cj=mb([0,0,100]);this.Ak=mb([0,0,0]);this.Fl=mb([0,1,0]);this.hj=mb([1,1,1]);this.ji=nb();this.Jb=nb();this.rk=nb();this.ph=nb();this.n=a;this.ek()}function g(a,b,c){this.n=a;this.Af=b;this.name=c;this.Ib=a.getAttribLocation(b,"aPos");this.gd=a.getAttribLocation(b,"aTex");this.yk=a.getUniformLocation(b,"matP");this.oe=a.getUniformLocation(b,"matMV");this.pe=a.getUniformLocation(b,"opacity");this.zk=a.getUniformLocation(b,"samplerFront");this.yg=
a.getUniformLocation(b,"samplerBack");this.ne=a.getUniformLocation(b,"destStart");this.me=a.getUniformLocation(b,"destEnd");this.gi=a.getUniformLocation(b,"seconds");this.fi=a.getUniformLocation(b,"pixelWidth");this.ei=a.getUniformLocation(b,"pixelHeight");this.di=a.getUniformLocation(b,"layerScale");this.pe&&a.uniform1f(this.pe,1);this.zk&&a.uniform1i(this.zk,0);this.yg&&a.uniform1i(this.yg,1);this.ne&&a.uniform2f(this.ne,0,0);this.me&&a.uniform2f(this.me,1,1);this.Id=q}function l(a,b){this.type=
a;this.A=b;this.n=b.n;this.mc=this.Mb=this.Ok=0;this.r=this.Ud=n;this.Ri=[]}d.prototype.ek=function(){var a=this.n,b;this.sk=1;this.Nd=n;this.Hj=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.Bq=a.getParameter(a.MAX_TEXTURE_SIZE);this.tk=a.ONE;this.qk=a.ONE_MINUS_SRC_ALPHA;this.xi=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.xi);this.If=Array(4);this.Ef=Array(4);for(b=0;4>b;b++)this.If[b]=
a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.If[b]),this.Ef[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Ef[b]);this.Ac=0;this.Zn=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Zn);this.fj=new Float32Array(16E3);this.Wi=new Float32Array(16E3);this.wo=new Float32Array(32E3);for(var c=new Uint16Array(12E3),e=b=0;12E3>b;)c[b++]=e,c[b++]=e+1,c[b++]=e+2,c[b++]=e,c[b++]=e+2,c[b++]=e+3,e+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,a.STATIC_DRAW);this.yi=this.uc=0;this.Aa=[];b=this.mh({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");this.Aa.push(b);b=this.mh({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}",
"<point>");this.Aa.push(b);for(var h in rb)rb.hasOwnProperty(h)&&this.Aa.push(this.mh(rb[h],"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",h));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,n);this.Wc=[];this.xc=0;this.Gb=this.Za=q;this.Ij=this.ff=-1;this.Re=n;this.on=a.createFramebuffer();this.el=
n;this.vd=mb([0,0,0]);a=a.getParameter(a.ALIASED_POINT_SIZE_RANGE);this.Cq=a[0];this.Aq=a[1];this.sc(0)};d.prototype.mh=function(a,b,c){var e=this.n,h=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(h,a.src);e.compileShader(h);if(!e.getShaderParameter(h,e.COMPILE_STATUS))return e.deleteShader(h),n;var f=e.createShader(e.VERTEX_SHADER);e.shaderSource(f,b);e.compileShader(f);if(!e.getShaderParameter(f,e.COMPILE_STATUS))return e.deleteShader(h),e.deleteShader(f),n;b=e.createProgram();e.attachShader(b,
h);e.attachShader(b,f);e.linkProgram(b);if(!e.getProgramParameter(b,e.LINK_STATUS))return e.deleteShader(h),e.deleteShader(f),e.deleteProgram(b),n;e.useProgram(b);e.validateProgram(b);e.deleteShader(h);e.deleteShader(f);c=new g(e,b,c);c.wh=a.wh||0;c.xh=a.xh||0;c.Gj=!!a.Gj;c.xj=!!a.xj;c.p=a.p||[];a=0;for(h=c.p.length;a<h;a++)c.p[a][1]=e.getUniformLocation(b,c.p[a][0]),e.uniform1f(c.p[a][1],0);return c};d.prototype.Kh=function(a){var b,c;b=0;for(c=this.Aa.length;b<c;b++)if(this.Aa[b].name===a)return b;
return-1};d.prototype.al=function(a,b,c){var e=[0,0,this.width,this.height],h=this.Jb,f=this.ji,k=[0,0,0,0,0,0,0,0];k[0]=h[0]*a+h[4]*b+h[12];k[1]=h[1]*a+h[5]*b+h[13];k[2]=h[2]*a+h[6]*b+h[14];k[3]=h[3]*a+h[7]*b+h[15];k[4]=f[0]*k[0]+f[4]*k[1]+f[8]*k[2]+f[12]*k[3];k[5]=f[1]*k[0]+f[5]*k[1]+f[9]*k[2]+f[13]*k[3];k[6]=f[2]*k[0]+f[6]*k[1]+f[10]*k[2]+f[14]*k[3];k[7]=-k[2];0!==k[7]&&(k[7]=1/k[7],k[4]*=k[7],k[5]*=k[7],k[6]*=k[7],c[0]=(0.5*k[4]+0.5)*e[2]+e[0],c[1]=(0.5*k[5]+0.5)*e[3]+e[1])};d.prototype.Pi=function(a,
b,c){if(!(this.width===a&&this.height===b&&!c)){this.Zc();this.width=a;this.height=b;this.n.viewport(0,0,a,b);b=a/b;var e=this.ji,h;h=1*Math.tan(45*Math.PI/360);b*=h;a=-b;c=-h;e||(e=nb());var f=b-a,k=h-c;e[0]=2/f;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=2/k;e[6]=0;e[7]=0;e[8]=(b+a)/f;e[9]=(h+c)/k;e[10]=-1001/999;e[11]=-1;e[12]=0;e[13]=0;e[14]=-2E3/999;e[15]=0;qb(this.Cj,this.Ak,this.Fl,this.Jb);a=[0,0];b=[0,0];this.al(0,0,a);this.al(1,1,b);this.hj[0]=1/(b[0]-a[0]);this.hj[1]=-1/(b[1]-a[1]);a=0;for(b=this.Aa.length;a<
b;a++)c=this.Aa[a],c.Id=q,c.yk&&(this.n.useProgram(c.Af),this.n.uniformMatrix4fv(c.yk,q,this.ji));this.n.useProgram(this.Aa[this.ff].Af);this.n.bindTexture(this.n.TEXTURE_2D,n);this.Nd=n}};d.prototype.rc=function(){qb(this.Cj,this.Ak,this.Fl,this.Jb);pb(this.Jb,this.hj)};d.prototype.translate=function(a,b){if(!(0===a&&0===b)){this.vd[0]=a;this.vd[1]=b;this.vd[2]=0;var c=this.Jb,e=this.vd,h=e[0],f=e[1],e=e[2];c[12]=c[0]*h+c[4]*f+c[8]*e+c[12];c[13]=c[1]*h+c[5]*f+c[9]*e+c[13];c[14]=c[2]*h+c[6]*f+c[10]*
e+c[14];c[15]=c[3]*h+c[7]*f+c[11]*e+c[15]}};d.prototype.scale=function(a,b){1===a&&1===b||(this.vd[0]=a,this.vd[1]=b,this.vd[2]=1,pb(this.Jb,this.vd))};d.prototype.Ki=function(a){if(0!==a){var b=this.Jb,c,e=Math.sin(a);a=Math.cos(a);var h=b[0],f=b[1],k=b[2],w=b[3],x=b[4],s=b[5],y=b[6],u=b[7];c?b!==c&&(c[8]=b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=h*a+x*e;c[1]=f*a+s*e;c[2]=k*a+y*e;c[3]=w*a+u*e;c[4]=h*-e+x*a;c[5]=f*-e+s*a;c[6]=k*-e+y*a;c[7]=w*
-e+u*a}};d.prototype.tc=function(){for(var a=q,b=0;16>b;b++)if(this.rk[b]!==this.Jb[b]){a=m;break}a&&(a=this.Xb(),a.type=5,a.r?ob(this.Jb,a.r):a.r=nb(this.Jb),ob(this.Jb,this.rk),this.Gb=this.Za=q)};l.prototype.Mm=function(){this.n.bindTexture(this.n.TEXTURE_2D,this.Ud)};l.prototype.Jm=function(){var a=this.Ok,b=this.A;b.Hj=a;b=b.Re;b.pe&&this.n.uniform1f(b.pe,a)};l.prototype.Gm=function(){this.n.drawElements(this.n.TRIANGLES,this.mc,this.n.UNSIGNED_SHORT,2*this.Mb)};l.prototype.Im=function(){this.n.blendFunc(this.Mb,
this.mc)};l.prototype.Nm=function(){var a,b,c,e=this.A.Aa,h=this.A.Ij;a=0;for(b=e.length;a<b;a++)c=e[a],a===h&&c.oe?(this.n.uniformMatrix4fv(c.oe,q,this.r),c.Id=m):c.Id=q;ob(this.r,this.A.ph)};l.prototype.Hm=function(){var a=this.n,b=this.A;this.Ud?(a.bindFramebuffer(a.FRAMEBUFFER,b.on),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Ud,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,n,0),a.bindFramebuffer(a.FRAMEBUFFER,n))};l.prototype.Em=function(){var a=
this.n;0===this.Mb?(a.clearColor(this.r[0],this.r[1],this.r[2],this.r[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.r[0],this.r[1],this.r[2],this.r[3]),a.clearColor(0,0,0,0),a.clear(this.n.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};l.prototype.Fm=function(){var a=this.n,b=this.A,c=b.Aa[1];a.useProgram(c.Af);!c.Id&&c.oe&&(a.uniformMatrix4fv(c.oe,q,b.ph),c.Id=m);a.enableVertexAttribArray(c.Ib);a.bindBuffer(a.ARRAY_BUFFER,b.xi);a.vertexAttribPointer(c.Ib,4,a.FLOAT,q,0,
0);a.drawArrays(a.POINTS,this.Mb/4,this.mc);c=b.Re;a.useProgram(c.Af);0<=c.Ib&&(a.enableVertexAttribArray(c.Ib),a.bindBuffer(a.ARRAY_BUFFER,b.If[b.Ac]),a.vertexAttribPointer(c.Ib,2,a.FLOAT,q,0,0));0<=c.gd&&(a.enableVertexAttribArray(c.gd),a.bindBuffer(a.ARRAY_BUFFER,b.Ef[b.Ac]),a.vertexAttribPointer(c.gd,2,a.FLOAT,q,0,0))};l.prototype.Km=function(){var a=this.n,b=this.A,c=b.Aa[this.Mb];b.Ij=this.Mb;b.Re=c;a.useProgram(c.Af);!c.Id&&c.oe&&(a.uniformMatrix4fv(c.oe,q,b.ph),c.Id=m);c.pe&&a.uniform1f(c.pe,
b.Hj);0<=c.Ib&&(a.enableVertexAttribArray(c.Ib),a.bindBuffer(a.ARRAY_BUFFER,b.If[b.Ac]),a.vertexAttribPointer(c.Ib,2,a.FLOAT,q,0,0));0<=c.gd&&(a.enableVertexAttribArray(c.gd),a.bindBuffer(a.ARRAY_BUFFER,b.Ef[b.Ac]),a.vertexAttribPointer(c.gd,2,a.FLOAT,q,0,0))};l.prototype.Lm=function(){var a,b,c=this.A.Re,e=this.n;c.yg&&(e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,this.Ud),e.activeTexture(e.TEXTURE0));c.fi&&e.uniform1f(c.fi,this.r[0]);c.ei&&e.uniform1f(c.ei,this.r[1]);c.ne&&e.uniform2f(c.ne,
this.r[2],this.r[3]);c.me&&e.uniform2f(c.me,this.r[4],this.r[5]);c.di&&e.uniform1f(c.di,this.r[6]);c.gi&&e.uniform1f(c.gi,Ja()/1E3);if(c.p.length){a=0;for(b=c.p.length;a<b;a++)e.uniform1f(c.p[a][1],this.Ri[a])}};d.prototype.Xb=function(){this.xc===this.Wc.length&&this.Wc.push(new l(0,this));return this.Wc[this.xc++]};d.prototype.Zc=function(){if(0!==this.xc&&!this.n.isContextLost()){var a=this.n;0<this.yi&&(a.bindBuffer(a.ARRAY_BUFFER,this.xi),a.bufferData(a.ARRAY_BUFFER,this.wo.subarray(0,this.yi),
a.STREAM_DRAW),b&&(0<=b.Ib&&"<point>"===b.name)&&a.vertexAttribPointer(b.Ib,4,a.FLOAT,q,0,0));if(0<this.uc){var b=this.Re;a.bindBuffer(a.ARRAY_BUFFER,this.If[this.Ac]);a.bufferData(a.ARRAY_BUFFER,this.fj.subarray(0,this.uc),a.STREAM_DRAW);b&&(0<=b.Ib&&"<point>"!==b.name)&&a.vertexAttribPointer(b.Ib,2,a.FLOAT,q,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Ef[this.Ac]);a.bufferData(a.ARRAY_BUFFER,this.Wi.subarray(0,this.uc),a.STREAM_DRAW);b&&(0<=b.gd&&"<point>"!==b.name)&&a.vertexAttribPointer(b.gd,2,a.FLOAT,
q,0,0)}for(var c,a=0,b=this.xc;a<b;a++)switch(c=this.Wc[a],c.type){case 1:c.Gm();break;case 2:c.Mm();break;case 3:c.Jm();break;case 4:c.Im();break;case 5:c.Nm();break;case 6:c.Hm();break;case 7:c.Em();break;case 8:c.Fm();break;case 9:c.Km();break;case 10:c.Lm()}this.yi=this.uc=this.xc=0;this.Gb=this.Za=q;this.Ac++;4<=this.Ac&&(this.Ac=0)}};d.prototype.ye=function(a){if(a!==this.sk){var b=this.Xb();b.type=3;this.sk=b.Ok=a;this.Gb=this.Za=q}};d.prototype.Lb=function(a){if(a!==this.Nd){var b=this.Xb();
b.type=2;this.Nd=b.Ud=a;this.Gb=this.Za=q}};d.prototype.od=function(a,b){if(!(a===this.tk&&b===this.qk)){var c=this.Xb();c.type=4;c.Mb=a;c.mc=b;this.tk=a;this.qk=b;this.Gb=this.Za=q}};d.prototype.il=function(){this.od(this.n.ONE,this.n.ONE_MINUS_SRC_ALPHA)};d.prototype.Jg=function(a,b,c,e,h,f,k,w){15992<=this.uc&&this.Zc();var x=this.uc,s=this.fj,y=this.Wi;if(this.Za)this.Wc[this.xc-1].mc+=6;else{var u=this.Xb();u.type=1;u.Mb=3*(x/4);u.mc=6;this.Za=m;this.Gb=q}s[x]=a;y[x++]=0;s[x]=b;y[x++]=0;s[x]=
c;y[x++]=1;s[x]=e;y[x++]=0;s[x]=h;y[x++]=1;s[x]=f;y[x++]=1;s[x]=k;y[x++]=0;s[x]=w;y[x++]=1;this.uc=x};d.prototype.md=function(a,b,c,e,h,f,k,w,x){15992<=this.uc&&this.Zc();var s=this.uc,y=this.fj,u=this.Wi;if(this.Za)this.Wc[this.xc-1].mc+=6;else{var r=this.Xb();r.type=1;r.Mb=3*(s/4);r.mc=6;this.Za=m;this.Gb=q}y[s]=a;u[s++]=x.left;y[s]=b;u[s++]=x.top;y[s]=c;u[s++]=x.right;y[s]=e;u[s++]=x.top;y[s]=h;u[s++]=x.right;y[s]=f;u[s++]=x.bottom;y[s]=k;u[s++]=x.left;y[s]=w;u[s++]=x.bottom;this.uc=s};d.prototype.sc=
function(a){if(this.ff!==a){if(!this.Aa[a]){if(0===this.ff)return;a=0}var b=this.Xb();b.type=9;this.ff=b.Mb=a;this.Gb=this.Za=q}};d.prototype.sf=function(a){a=this.Aa[a];return!(!a.ne&&!a.me)};d.prototype.Ai=function(a){return this.Aa[a].Gj};d.prototype.Bo=function(a){a=this.Aa[a];return 0!==a.wh||0!==a.xh};d.prototype.Fn=function(a){return this.Aa[a].wh};d.prototype.Gn=function(a){return this.Aa[a].xh};d.prototype.Hn=function(a,b){return this.Aa[a].p[b][2]};d.prototype.Ig=function(a){return this.Aa[a].xj};
d.prototype.ze=function(a,b,c,e,h,f,k,w,x){var s=this.Aa[this.ff];if(s.fi||s.ei||s.gi||s.yg||s.ne||s.me||s.di||x.length){s=this.Xb();s.type=10;s.r?ob(this.Jb,s.r):s.r=nb();s.r[0]=b;s.r[1]=c;s.r[2]=e;s.r[3]=h;s.r[4]=f;s.r[5]=k;s.r[6]=w;s.Ud=a;if(x.length){s.Ri.length=x.length;a=0;for(b=x.length;a<b;a++)s.Ri[a]=x[a]}this.Gb=this.Za=q}};d.prototype.clear=function(a,b,c,e){var h=this.Xb();h.type=7;h.Mb=0;h.r||(h.r=nb());h.r[0]=a;h.r[1]=b;h.r[2]=c;h.r[3]=e;this.Gb=this.Za=q};d.prototype.clearRect=function(a,
b,c,e){var h=this.Xb();h.type=7;h.Mb=1;h.r||(h.r=nb());h.r[0]=a;h.r[1]=b;h.r[2]=c;h.r[3]=e;this.Gb=this.Za=q};d.prototype.Ao=function(){this.Zc();this.n.flush()};var p=[];d.prototype.xk=function(a,b,c){this.Zc();var e=this.n,h=ca(a.width)&&ca(a.height),f=e.createTexture();e.bindTexture(e.TEXTURE_2D,f);e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,m);var k=e.RGBA,w=e.RGBA,x=e.UNSIGNED_BYTE;if(c)switch(c){case 1:w=k=e.RGB;break;case 2:x=e.UNSIGNED_SHORT_4_4_4_4;break;case 3:x=e.UNSIGNED_SHORT_5_5_5_1;
break;case 4:w=k=e.RGB,x=e.UNSIGNED_SHORT_5_6_5}e.texImage2D(e.TEXTURE_2D,0,k,w,x,a);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);b?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),h?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),
e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST));e.bindTexture(e.TEXTURE_2D,n);this.Nd=n;f.Me=a.width;f.Le=a.height;p.push(f);return f};d.prototype.zc=function(a,b,c,e){this.Zc();var h=this.n,f=h.createTexture();h.bindTexture(h.TEXTURE_2D,f);h.texImage2D(h.TEXTURE_2D,0,h.RGBA,a,b,0,h.RGBA,e?h.UNSIGNED_SHORT_4_4_4_4:h.UNSIGNED_BYTE,n);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE);h.texParameteri(h.TEXTURE_2D,
h.TEXTURE_MAG_FILTER,c?h.LINEAR:h.NEAREST);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,c?h.LINEAR:h.NEAREST);h.bindTexture(h.TEXTURE_2D,n);this.Nd=n;f.Me=a;f.Le=b;p.push(f);return f};d.prototype.ep=function(a,b,c){this.Zc();var e=this.n;e.bindTexture(e.TEXTURE_2D,b);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,c?e.UNSIGNED_SHORT_4_4_4_4:e.UNSIGNED_BYTE,a);e.bindTexture(e.TEXTURE_2D,n);this.Nd=n};d.prototype.deleteTexture=function(a){a&&(this.Zc(),this.n.bindTexture(this.n.TEXTURE_2D,n),this.Nd=
n,this.n.deleteTexture(a),ra(p,a))};d.prototype.Nc=function(a){if(a!==this.el){var b=this.Xb();b.type=6;this.el=b.Ud=a;this.Gb=this.Za=q}};Sa=d})();
(function(){function d(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.Ld="undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap);this.Hb=!!a.dc;this.ge="undefined"!==typeof window.AppMobi||this.Hb;if(this.bd=!!window.c2cocoonjs)CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(m)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(q)});this.Ua=this.Hb||this.bd;this.hk=
/android/i.test(navigator.userAgent);this.wq=/msie/i.test(navigator.userAgent);this.pg=/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent);this.ok=/ipad/i.test(navigator.userAgent);this.Md=this.pg||this.ok;this.ik=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent);this.ao=!this.ik&&/safari/i.test(navigator.userAgent);this.mk=/windows/i.test(navigator.userAgent);this.kk="undefined"!==typeof window.c2nodewebkit;this.$n="undefined"!==typeof window.is_scirra_arcade;
this.devicePixelRatio=1;this.cd=this.Ld||this.ge||this.bd||this.hk||this.Md;this.cd||(this.cd=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet)/i.test(navigator.userAgent));this.canvas=a;this.Dj=document.getElementById("c2canvasdiv");this.P=this.A=this.n=n;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return q};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return q};this.Hb&&(window.c2runtime=this);this.width=
a.width;this.height=a.height;this.Pd=this.width;this.Od=this.height;this.R=m;this.bf=q;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.k=[];this.ma=[];this.ai={};this.Vb=[];this.vh={};this.Gd=[];this.xd=[];this.Sg=[];this.rm=[];this.ic=new Ka;this.Sh=q;this.Jc=0;this.Uh=q;this.gc=[];this.jk=q;this.Tb=this.Pa=this.wg=this.xf="";this.Cf=this.ol=q;this.fp=this.lh=this.Ag=this.Yc=this.Fd=0;this.Vd=1;this.Sb=new La;this.tg=0;this.Bk=m;this.Bg=this.$f=this.Vf=this.Pc=
this.gf=this.zh=0;this.jh=n;this.rh=[];this.uh=[];this.Tf=-1;this.hi=[[]];this.bj=this.zg=0;this.Di(n);this.yq=[];this.zq=-1;this.Gk=this.nf=0;this.wk=m;this.Te=0;this.Df=[];this.Zi=this.Fi=0;this.qg=m;this.le=0;this.kg=q;this.Uo=0;this.fg=q;this.oi=new Ka;this.pi=new Ka;this.Eo=[];this.Fq=new Na([]);this.Gq=new Na([]);this.Zd=[];this.bh={};this.ae={};this.Yd={};this.Fe={};this.zj={};this.Ub=this.wb=this.vk=this.vg=this.S=n;this.Ee=this.Vh=q;this.Bh=[n,n];this.Ah=0;this.pn="";this.se={};this.Ng=this.ke=
n;this.To="";this.load();this.devicePixelRatio=!this.Ua&&this.Ug&&this.Md?window.devicePixelRatio||1:1;this.Oa();var s;"undefined"!==typeof jQuery&&0<this.Fc&&this.setSize(jQuery(window).width(),jQuery(window).height());try{if(this.Pm&&!this.Ua){s={depth:q,antialias:!this.cd};var c=m;if(this.ik&&this.mk){var e=document.createElement("canvas");if("OES_texture_float,OES_standard_derivatives,WEBKIT_WEBGL_lose_context"===(e.getContext("webgl",s)||e.getContext("experimental-webgl",s)).getSupportedExtensions().toString())c=
q}c&&(this.n=a.getContext("webgl",s)||a.getContext("experimental-webgl",s))}}catch(r){}if(this.n){this.Va=document.createElement("canvas");jQuery(this.Va).appendTo(this.canvas.parentNode);this.Va.oncontextmenu=S(q);this.Va.onselectstart=S(q);this.Va.width=a.width;this.Va.height=a.height;this.Zk();this.vi=this.Va.getContext("2d");this.A=new Sa(this.n,this.cd);this.A.Pi(a.width,a.height);this.P=n;this.canvas.addEventListener("webglcontextlost",function(a){a.preventDefault();b.ko();window.cr_setSuspended(m)},
q);this.canvas.addEventListener("webglcontextrestored",function(){b.A.ek();b.A.Pi(b.A.width,b.A.height,m);b.wb=n;b.Ub=n;b.Bh[0]=n;b.Bh[1]=n;b.lo();b.R=m;window.cr_setSuspended(q)},q);var v,k,f,h,d;a=0;for(s=this.k.length;a<s;a++){v=this.k[a];c=0;for(e=v.C.length;c<e;c++)f=v.C[c],f.Ha=this.A.Kh(f.id),this.Ee=this.Ee||this.A.sf(f.Ha)}a=0;for(s=this.Vb.length;a<s;a++){h=this.Vb[a];c=0;for(e=h.C.length;c<e;c++)f=h.C[c],f.Ha=this.A.Kh(f.id);c=0;for(e=h.I.length;c<e;c++){d=h.I[c];v=0;for(k=d.C.length;v<
k;v++)f=d.C[v],f.Ha=this.A.Kh(f.id),this.Ee=this.Ee||this.A.sf(f.Ha)}}}else{if(0<this.Fc&&this.Hb){this.canvas=n;document.oncontextmenu=S(q);document.onselectstart=S(q);this.P=AppMobi.canvas.getContext("2d");try{this.P.samplingMode=this.ra?"smooth":"sharp",this.P.globalScale=1,this.P.HTML5CompatibilityMode=m}catch(l){}0!==this.width&&0!==this.height&&(this.P.width=this.width,this.P.height=this.height)}this.P||(this.bd?(s={antialias:!!this.ra},this.P=a.getContext("2d",s)):this.P=a.getContext("2d"),
this.P.webkitImageSmoothingEnabled=this.ra,this.P.mozImageSmoothingEnabled=this.ra,this.P.msImageSmoothingEnabled=this.ra,this.P.imageSmoothingEnabled=this.ra);this.vi=this.Va=n}this.xl=function(){b.Qa()};this.Ua||(document.addEventListener("mousedown",function(){window.focus()},m),document.addEventListener("touchstart",function(){window.focus()},m));"undefined"!==typeof cr_is_preview&&("?continuous"===window.location.search&&(T("Reloading for continuous preview"),this.wg="__c2_continuouspreview",
this.Cf=m),this.vo&&!this.cd&&(jQuery(window).focus(function(){b.setSuspended(q)}),jQuery(window).blur(function(){b.setSuspended(m)})));this.go();this.ea={}}}function g(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function l(a,b,s,c){var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=g;e.onerror=c;e.onsuccess=function(r){r=r.target.result;r.onerror=c;r.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:b}).onsuccess=s}}function p(a,b,c){var e=indexedDB.open("_C2SaveStates");
e.onupgradeneeded=g;e.onerror=c;e.onsuccess=function(e){e=e.target.result;e.onerror=c;var r=e.transaction(["saves"]).objectStore("saves").get(a);r.onsuccess=function(){r.result?b(r.result.data):b(n)}}}function a(){T("Reloading for continuous preview");"?continuous"===window.location.search?window.location.reload(m):window.location+="?continuous"}function b(a){var b,c={};for(b in a)a.hasOwnProperty(b)&&!(a[b]instanceof Ka)&&"undefined"===typeof a[b].qq&&(c[b]=a[b]);return c}d.prototype.setSize=function(a,
b){var c=this.Xn&&this.pg&&!navigator.standalone&&!this.Ua&&!this.Ld,e=0;c&&(this.pg?e=60:this.hk&&(e=56),b+=e);var k=0,r=0,v=0,f=0,h=0,h=this.Fc,d=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.kg;d&&0<this.Ah&&(h=this.Ah);3<=h?(v=this.gb/this.fb,a/b>v?(v*=b,4===h?(h=v/this.gb,1<h?h=Math.floor(h):1>h&&(h=1/Math.ceil(1/h)),v=this.gb*h,f=this.fb*h,k=(a-v)/2,r=(b-f)/2,a=v,b=f):(k=(a-v)/2,a=v)):(f=a/v,4===h?(h=f/this.fb,1<h?h=Math.floor(h):1>h&&(h=1/Math.ceil(1/h)),v=
this.gb*h,f=this.fb*h,k=(a-v)/2,r=(b-f)/2,a=v):r=(b-f)/2,b=f),d&&!this.kk&&(r=k=0),k=Math.floor(k),r=Math.floor(r),a=Math.floor(a),b=Math.floor(b)):this.kk&&(this.kg&&0===this.Tj)&&(k=Math.floor((a-this.gb)/2),r=Math.floor((b-this.fb)/2),a=this.gb,b=this.fb);if((d=!this.Ua&&this.Ug&&this.Md)&&this.ok&&1<this.devicePixelRatio)1024<=a&&(a=1023),1024<=b&&(b=1023);v=this.devicePixelRatio;this.width=a*v;this.height=b*v;this.R=m;this.Dj&&!this.Ua&&(jQuery(this.Dj).css({width:a+"px",height:b+"px","margin-left":k,
"margin-top":r}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:a+"px",height:b+"px"}));this.canvas&&(this.canvas.width=a*v,this.canvas.height=b*v,d&&jQuery(this.canvas).css({width:a+"px",height:b+"px"}));this.Va&&(this.Va.width=a,this.Va.height=b);this.A&&this.A.Pi(a,b);this.Hb&&this.P&&(this.P.width=a,this.P.height=b);this.P&&(this.P.webkitImageSmoothingEnabled=this.ra,this.P.mozImageSmoothingEnabled=this.ra,this.P.msImageSmoothingEnabled=this.ra,this.P.imageSmoothingEnabled=
this.ra);c&&0<e&&window.setTimeout(function(){window.scrollTo(0,1)},100)};d.prototype.ko=function(){this.Vh=m;var a,b,c;a=0;for(b=this.k.length;a<b;a++)c=this.k[a],c.ri&&c.ri()};d.prototype.lo=function(){this.Vh=q;var a,b,c;a=0;for(b=this.k.length;a<b;a++)c=this.k[a],c.Lk&&c.Lk()};d.prototype.Zk=function(){var a=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.kg?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.Va).css(a)};
var c=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;d.prototype.setSuspended=function(a){var b;if(a&&!this.bf){this.bf=m;0!==this.Fi&&c&&c(this.Fi);0!==this.Zi&&clearTimeout(this.Zi);a=0;for(b=this.Df.length;a<b;a++)this.Df[a](m)}else if(!a&&this.bf){this.bf=q;this.tg=Ja();this.gf=Ja();a=this.$f=0;for(b=this.Df.length;a<b;a++)this.Df[a](q);this.Qa()}};d.prototype.uj=function(a){this.Df.push(a)};
d.prototype.load=function(){var a=sb();this.name=a[0];this.Rj=a[1];this.Fc=a[11];this.Tj=a[11];this.Ua&&3<=a[11]&&(T("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale'"),this.Tj=this.Fc=2);this.dj=a[17];this.kf=a[18];0===this.kf&&(this.ke=new Image,this.ke.src="logo.png");this.nf=a[20];this.Oc=new Z(this);var b,c,e,k,r,v,f,h,d;b=0;for(c=a[2].length;b<c;b++)f=a[2][b],tb(f),d=new f[0](this),d.Ti=f[1],d.ed=f[2],d.Ek=f[9],d.Y&&d.Y(),this.plugins.push(d);
a=sb();b=0;for(c=a[3].length;b<c;b++){f=a[3][b];r=f[1];d=n;e=0;for(k=this.plugins.length;e<k;e++)if(this.plugins[e]instanceof r){d=this.plugins[e];break}var l=new d.Ra(d);l.name=f[0];l.L=f[2];l.Rh=f[3].slice(0);l.dp=f[3].length;l.um=f[4];l.sn=f[5];l.G=f[11];l.L?(l.Dk=[],l.lc=this.Te++,l.X=n):(l.Dk=n,l.lc=-1,l.X=[]);l.Wf=n;l.de=n;l.Nj=n;l.Rb=q;l.Ta=n;f[6]?(l.tl=f[6][0],l.ul=f[6][1],l.Xo=f[6][2]):(l.tl=n,l.ul=0,l.Xo=0);l.$=f[7]?f[7]:n;l.index=b;l.d=[];l.Qf=[];l.rd=[new Ta(l)];l.Bc=0;l.jc=n;l.td=m;l.Tg=
ub;l.zn=vb;l.En=wb;l.qa=xb;l.uf=yb;l.Ci=zb;l.we=Ab;l.ag=Bb;l.Dh=Cb;l.Fh=Hb;l.Je=Ib;l.ea={};l.toString=Jb;l.ma=[];e=0;for(k=f[8].length;e<k;e++){h=f[8][e];var p=h[1],g=n;r=0;for(v=this.ma.length;r<v;r++)if(this.ma[r]instanceof p){g=this.ma[r];break}g||(g=new p(this),g.mi=new Ka,g.Y&&g.Y(),this.ma.push(g));r=new g.Ra(g,l);r.name=h[0];r.G=h[2];r.Y();l.ma.push(r)}l.global=f[9];l.Th=f[10];l.C=[];e=0;for(k=f[12].length;e<k;e++)l.C.push({id:f[12][e][0],name:f[12][e][1],Ha:-1,vc:m,index:e});(!this.dj||l.L||
l.Th||!d.ed)&&l.Y();l.name&&(this.types[l.name]=l);this.k.push(l);d.Ti&&(e=new d.Ea(l),e.uid=this.nf++,e.dl=this.Gk++,e.Ye=0,e.We=Kb,e.toString=Lb,e.Z=f[13],e.Y(),l.d.push(e))}b=0;for(c=a[4].length;b<c;b++){r=a[4][b];v=this.k[r[0]];e=1;for(k=r.length;e<k;e++)f=this.k[r[e]],f.X.push(v),v.Dk.push(f)}b=0;for(c=a[22].length;b<c;b++){r=a[22][b];v=[];e=0;for(k=r.length;e<k;e++)v.push(this.k[r[e]]);e=0;for(k=v.length;e<k;e++)v[e].Rb=m,v[e].Ta=v}if(0<this.Te){b=0;for(c=this.k.length;b<c;b++)if(f=this.k[b],
!f.L&&f.X.length){f.Wf=Array(this.Te);f.de=Array(this.Te);f.Nj=Array(this.Te);l=[];e=g=p=h=0;for(k=f.X.length;e<k;e++){d=f.X[e];f.Wf[d.lc]=h;h+=d.dp;f.de[d.lc]=p;p+=d.um;f.Nj[d.lc]=g;g+=d.sn;r=0;for(v=d.C.length;r<v;r++)l.push(ma({},d.C[r]))}f.C=l.concat(f.C);e=0;for(k=f.C.length;e<k;e++)f.C[e].index=e}}b=0;for(c=a[5].length;b<c;b++)f=a[5][b],e=new Ua(this,f),this.ai[e.name]=e,this.Vb.push(e);b=0;for(c=a[6].length;b<c;b++)f=a[6][b],e=new Va(this,f),this.vh[e.name]=e,this.Gd.push(e);b=0;for(c=this.Gd.length;b<
c;b++)this.Gd[b].ka();b=0;for(c=this.Sg.length;b<c;b++)this.Sg[b].ka();this.Sg.length=0;this.pn=a[7];this.ld=a[8];this.gb=a[9];this.fb=a[10];this.Kf=1;this.Pm=a[12];this.ra=a[13];this.Ej=a[14];this.Lq=a[15];b=a[16];2===b&&(b=this.pg?1:0);this.Ug=0!==b;this.Xn=a[19];this.vo=a[21];this.Bf=Date.now()};d.prototype.qn=function(a){var b,c;b=0;for(c=this.xd.length;b<c;b++)if(this.xd[b].zm===a)return this.xd[b];return n};d.prototype.yj=function(){var a=0,b=0,c=m,e,f;e=0;for(f=this.xd.length;e<f;e++){var r=
this.xd[e].ym;if(!r||0>=r)r=5E4;a+=r;this.xd[e].complete||this.xd[e].loaded?b+=r:c=q}this.Td=0==a?0:b/a;return c};d.prototype.go=function(){if(this.P||this.A){var a=this.P||this.vi;this.Va&&this.Zk();this.Td=0;this.uk=-1;if(this.yj())this.Vn();else{var b=Date.now()-this.Bf;if(3!==this.kf&&500<=b&&this.uk!=this.Td){a.clearRect(0,0,this.width,this.height);var b=this.width/2,c=this.height/2,e=0===this.kf&&this.ke.complete,f=40,r=0,k=80;e&&(k=this.ke.width,f=k/2,r=this.ke.height/2,a.drawImage(this.ke,
ia(b-f),ia(c-r)));1>=this.kf?(b=ia(b-f)+0.5,c=ia(c+(r+(e?12:0)))+0.5,a.fillStyle="DodgerBlue",a.fillRect(b,c,Math.floor(k*this.Td),6),a.strokeStyle="black",a.strokeRect(b,c,k,6),a.strokeStyle="white",a.strokeRect(b-1,c-1,k+2,8)):2===this.kf&&(a.font="12pt Arial",a.fillStyle="#999",a.Hq="middle",e=Math.round(100*this.Td)+"%",f=a.measureText?a.measureText(e):n,a.fillText(e,b-(f?f.width:0)/2,c));this.uk=this.Td}setTimeout(function(a){return function(){a.go()}}(this),100)}}};d.prototype.Vn=function(){this.Va&&
(this.canvas.parentNode.removeChild(this.Va),this.Va=this.vi=n);this.Bf=Date.now();this.gf=Ja();var a,b,c;if(this.dj){a=0;for(b=this.k.length;a<b;a++)c=this.k[a],!c.L&&(!c.Th&&c.ja.ed)&&c.Y()}else this.qg=q;a=0;for(b=this.Vb.length;a<b;a++)this.Vb[a].Am();2<=this.Fc&&(this.Kf=this.width/this.height>this.gb/this.fb?this.height/this.fb:this.width/this.gb);this.Rj?this.ai[this.Rj].Ui():this.Vb[0].Ui();this.dj||(this.le=1,this.trigger(Z.prototype.j.jj,n));this.Qa();this.Hb&&AppMobi.webview.execute("onGameReady();")};
var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;d.prototype.Qa=function(){if(this.$n){var a=jQuery(window).width(),b=jQuery(window).height();if(this.Pd!==a||this.Od!==b)this.Pd=a,this.Od=b,this.setSize(a,b)}a=Ja();this.qg&&(b=this.yj(),this.le=this.Td,b&&(this.qg=q,this.Td=1,this.trigger(Z.prototype.j.jj,n)));this.jo();if((this.R||this.bd)&&!this.Vh&&!this.Cf)this.R=q,this.A?this.Qb():
this.Cc(),this.Ng&&(this.canvas&&this.canvas.toDataURL&&(this.To=this.canvas.toDataURL(this.Ng[0],this.Ng[1]),this.trigger(Z.prototype.j.Nl,n)),this.Ng=n);this.Pc++;this.Vf++;this.$f++;this.Ag+=Ja()-a;this.bf||(e?this.Fi=e(this.xl,this.canvas):this.Zi=setTimeout(this.xl,this.cd?1:16))};d.prototype.jo=function(){var a,b,c,e,f,r,k,h,d;a=Ja();1E3<=a-this.gf&&(this.gf+=1E3,this.zh=this.$f,this.$f=0,this.lh=this.Ag,this.Ag=0);this.Bk&&(0!==this.tg&&(b=a-this.tg,0===b?(this.fp++,10<=this.Mq&&(this.Bk=q),
this.Yc=1/60):(this.Yc=b/1E3,0.5<this.Yc?this.Yc=0:0.1<this.Yc&&(this.Yc=0.1))),this.tg=a);this.Fd=this.Yc*this.Vd;this.Sb.add(this.Fd);a=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.kg;2<=this.Fc||a&&0<this.Ah?(this.Kf=this.width/this.height>this.gb/this.fb?this.height/this.fb:this.width/this.gb,this.S&&(this.S.Oo(this.S.scrollX),this.S.Po(this.S.scrollY))):this.Kf=1;this.Oa();this.Jc++;this.Oc.Ho();this.Jc--;this.Oa();this.Jc++;a=0;for(b=this.k.length;a<b;a++)if(k=
this.k[a],!(k.L||!k.ma.length&&!k.X.length)){c=0;for(e=k.d.length;c<e;c++){h=k.d[c];f=0;for(r=h.N.length;f<r;f++)h.N[f].Qa()}}a=0;for(b=this.k.length;a<b;a++)if(k=this.k[a],!(k.L||!k.ma.length&&!k.X.length)){c=0;for(e=k.d.length;c<e;c++){h=k.d[c];f=0;for(r=h.N.length;f<r;f++)d=h.N[f],d.zo&&d.zo()}}c=this.oi.Ff();a=0;for(b=c.length;a<b;a++)c[a].Qa();this.Jc--;this.Wn();for(a=0;this.jh&&10>a++;)this.Kj(this.jh);a=0;for(b=this.Gd.length;a<b;a++)this.Gd[a].Mh=q;this.S.Sf&&this.S.Sf.ya();this.Eo.length=
0;this.wk=q;this.Jc++;a=0;for(b=this.k.length;a<b;a++)if(k=this.k[a],!(k.L||!k.ma.length&&!k.X.length)){c=0;for(e=k.d.length;c<e;c++){h=k.d[c];f=0;for(r=h.N.length;f<r;f++)d=h.N[f],d.Xi&&d.Xi()}}c=this.pi.Ff();a=0;for(b=c.length;a<b;a++)c[a].Xi();this.Jc--};d.prototype.Kj=function(a){this.S.Vo();var b,c,e,f,r;b=0;for(c=this.k.length;b<c;b++)f=this.k[b],f.El&&-1===a.Ze.indexOf(f)&&f.El();a.Ui();b=0;for(c=this.k.length;b<c;b++)if(f=this.k[b],f.global||f.ja.Ti){a=0;for(e=f.d.length;a<e;a++)r=f.d[a],
r.no&&r.no()}this.wk=this.R=m;this.Oa()};d.prototype.Yi=function(a){this.oi.add(a)};d.prototype.Yo=function(a){this.pi.add(a)};d.prototype.yn=function(a){return!a||-1===a.Rd?this.Fd:this.Yc*a.Rd};d.prototype.Cc=function(){this.S.Cc(this.P);this.Hb&&this.P.present()};d.prototype.Qb=function(){this.S.Qb(this.A)};d.prototype.pm=function(a){a&&this.rh.push(a)};d.prototype.Ih=function(a){return this.se[a.toString()]};d.prototype.yd=function(a){var b,c;if(!this.ic.contains(a)){this.ic.add(a);if(a.Rb){b=
0;for(c=a.siblings.length;b<c;b++)this.yd(a.siblings[b])}this.Sh&&this.ic.Gf.push(a);this.Jc++;this.trigger(Object.getPrototypeOf(a.type.ja).j.Pl,a);this.Jc--}};d.prototype.Oa=function(){var a,b,c,e,f,r,k,h,d,l;this.Sh=m;e=0;for(r=this.gc.length;e<r;e++){a=this.gc[e];b=a.type;b.d.push(a);b.td=m;f=0;for(k=b.X.length;f<k;f++)b.X[f].d.push(a),b.X[f].td=m}this.gc.length=0;r=this.ic.Ff();for(e=0;e<r.length;e++){a=r[e];b=a.type;c=b.d;f=0;for(k=this.rh.length;f<k;f++)this.rh[f](a);ra(c,a);a.e&&(pa(a.e.d,
a.ub()),a.e.nb=m);f=0;for(k=b.X.length;f<k;f++)ra(b.X[f].d,a),b.X[f].td=m;if(a.N){f=0;for(k=a.N.length;f<k;f++)c=a.N[f],c.Cg&&c.Cg(),c.$d.mi.remove(a)}this.oi.remove(a);this.pi.remove(a);f=0;for(k=this.Oc.Ab.length;f<k;f++)if(d=this.Oc.Ab[f],d.ib.hasOwnProperty(b.index)&&ra(d.ib[b.index].Kd,a),!b.L){c=0;for(h=b.X.length;c<h;c++)l=b.X[c],d.ib.hasOwnProperty(l.index)&&ra(d.ib[l.index].Kd,a)}a.Cg&&a.Cg();this.se.hasOwnProperty(a.uid.toString())&&delete this.se[a.uid.toString()];this.Bg--;64>b.Qf.length&&
b.Qf.push(a);b.td=m}this.ic.$e()||(this.R=m);this.ic.clear();this.Sh=q};var h=[];d.prototype.Dd=function(a,b,c,e,f,r){var k,d,l,p;if(!a)return n;var g=this.k[a[1]],J=g.ja.ed;if(this.qg&&J&&!g.Th||J&&!this.A&&11===a[0][11])return n;J||(b=n);var t;g.Qf.length?(t=g.Qf.pop(),t.Yb=m,g.ja.Ea.call(t,g)):(t=new g.ja.Ea(g),t.Yb=q);t.uid=c&&!r?a[2]:this.nf++;this.se[t.uid.toString()]=t;t.dl=this.Gk++;t.Ye=0;t.We=Kb;g.td=m;l=a[3];if(t.Yb){k=0;for(d=l.length;k<d;k++)t.Ka[k]=l[k];Ia(t.ea)}else t.Ka=l.slice(0),
t.ea={};if(J){var z=a[0];t.x=aa(e)?z[0]:e;t.y=aa(f)?z[1]:f;t.Il=z[2];t.width=z[3];t.height=z[4];t.depth=z[5];t.i=z[6];t.opacity=z[7];t.$a=z[8];t.ab=z[9];t.Sa=z[10];k=z[11];!this.A&&g.C.length&&(t.Sa=k);t.Oe=Oa(t.Sa);this.n&&Pa(t,t.Sa,this.n);if(t.Yb){k=0;for(d=z[12].length;k<d;k++){l=0;for(p=z[12][k].length;l<p;l++)t.ba[k][l]=z[12][k][l]}t.K.set(0,0,0,0);t.ec.Qi(t.K);t.Lf.length=0}else{t.ba=z[12].slice(0);k=0;for(d=t.ba.length;k<d;k++)t.ba[k]=z[12][k].slice(0);t.M=[];t.Uc=[];t.Uc.length=g.C.length;
t.K=new ka(0,0,0,0);t.ec=new la;t.Lf=[];t.Ga=Mb;t.pq=Nb;t.Xc=Ob;t.Ob=Pb;t.ub=Qb}k=0;for(d=g.C.length;k<d;k++)t.Uc[k]=m;t.Rc=Rb;t.Rc();t.Hl=!!t.M.length;t.eh=m;t.visible=m;t.Rd=-1;t.e=b;t.Xd=b.d.length;"undefined"===typeof t.fc&&(t.fc=n);this.R=t.Nf=m}t.toString=Lb;var K;k=h.length=0;for(d=g.X.length;k<d;k++)h.push.apply(h,g.X[k].ma);h.push.apply(h,g.ma);if(t.Yb){k=0;for(d=h.length;k<d;k++){var G=h[k];K=t.N[k];K.Yb=m;G.$d.Ea.call(K,G,t);z=a[4][k];l=0;for(p=z.length;l<p;l++)K.Z[l]=z[l];K.Y();G.$d.mi.add(t)}}else{t.N=
[];k=0;for(d=h.length;k<d;k++)G=h[k],K=new G.$d.Ea(G,t),K.Yb=q,K.Z=a[4][k].slice(0),K.Y(),t.N.push(K),G.$d.mi.add(t)}z=a[5];if(t.Yb){k=0;for(d=z.length;k<d;k++)t.Z[k]=z[k]}else t.Z=z.slice(0);this.gc.push(t);b&&b.d.push(t);this.Bg++;if(g.Rb){if(t.Rb=m,t.Yb?t.siblings.length=0:t.siblings=[],!c&&!r){k=0;for(d=g.Ta.length;k<d;k++)if(g.Ta[k]!==g){if(!g.Ta[k].jc)return n;t.siblings.push(this.Dd(g.Ta[k].jc,b,q,J?t.x:e,J?t.y:f,m))}k=0;for(d=t.siblings.length;k<d;k++){t.siblings[k].siblings.push(t);for(l=
0;l<d;l++)k!==l&&t.siblings[k].siblings.push(t.siblings[l])}}}else t.Rb=q,t.siblings=n;t.Y();k=0;for(d=t.N.length;k<d;k++)t.N[k].yo&&t.N[k].yo();return t};d.prototype.Hh=function(a){var b,c;b=0;for(c=this.S.I.length;b<c;b++){var e=this.S.I[b];if(e.name.toLowerCase()===a.toLowerCase())return e}return n};d.prototype.Ue=function(a){a=ia(a);0>a&&(a=0);a>=this.S.I.length&&(a=this.S.I.length-1);return this.S.I[a]};d.prototype.kh=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].qa().za=m};d.prototype.uf=
function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].uf()};d.prototype.Ci=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Ci()};d.prototype.we=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].we()};d.prototype.Wo=function(a,b,c){var e=a.qa(),k,f,d,h,l,g;if(e.za){e.za=q;k=e.d.length=0;for(h=a.d.length;k<h;k++)d=a.d[k],d.Ob(),l=d.e.Wa(b,c,m),g=d.e.Wa(b,c,q),d.Xc(l,g)&&e.d.push(d)}else{k=f=0;for(h=e.d.length;k<h;k++)d=e.d[k],d.Ob(),l=d.e.Wa(b,c,m),g=d.e.Wa(b,c,q),d.Xc(l,g)&&(e.d[f]=e.d[k],f++);
e.d.length=f}a.Je();return e.Lh()};new la;d.prototype.Bl=function(a,b){if(!b)return q;var c,e,k,f,d;c=0;for(e=a.ma.length;c<e;c++)if(a.ma[c].$d instanceof b)return m;if(!a.L){c=0;for(e=a.X.length;c<e;c++){d=a.X[c];k=0;for(f=d.ma.length;k<f;k++)if(d.ma[k].$d instanceof b)return m}}return q};d.prototype.Cl=function(a){return this.Bl(a,kb.Lp)};d.prototype.cj=function(a){return this.Bl(a,kb.Mp)};var f=[],k=-1;d.prototype.trigger=function(a,b,c){if(!this.S)return q;var e=this.S.Sf;if(!e)return q;k++;k===
f.length?f.push(new Ka):f[k].clear();a=this.zl(a,b,e,c);k--;return a};d.prototype.zl=function(a,b,c,e){var d=f[k];if(d.contains(c))return q;d.add(c);var d=c.dk.Ff(),r=q,h,l,g;h=0;for(l=d.length;h<l;h++)g=this.zl(a,b,d[h],e),r=r||g;if(b){g=this.aj(a,b,b.type.name,c,e);r=r||g;h=0;for(l=b.type.X.length;h<l;h++)g=this.aj(a,b,b.type.X[h].name,c,e),r=r||g}else g=this.aj(a,b,"system",c,e),r=r||g;return r};d.prototype.aj=function(a,b,c,e,k){var f,d=q,h=q,h="undefined"!==typeof k,l=(h?e.Pj:e.Al)[c];if(!l)return d;
var g=n;e=0;for(f=l.length;e<f;e++)if(l[e].method==a){g=l[e].Uf;break}if(!g)return d;a=h?g[k]:g;if(!a)return n;e=0;for(f=a.length;e<f;e++)k=a[e][0],h=a[e][1],h=this.nn(b,c,k,h),d=d||h;return d};d.prototype.nn=function(a,b,c,e){var f,r,d=q;this.bj++;var h=this.Fb().hc;h&&this.uf(h.pd);var l=1<this.bj;this.uf(c.pd);l&&this.Co();var g=this.Di(c);g.hc=c;a&&(f=this.types[b].qa(),f.za=q,f.d.length=1,f.d[0]=a,this.types[b].Je());a=m;if(c.parent){b=g.ql;for(f=c.parent;f;)b.push(f),f=f.parent;b.reverse();
f=0;for(r=b.length;f<r;f++)if(!b[f].Jo()){a=q;break}}a&&(this.Vf++,c.pc?c.Io(e):c.ya(),d=d||g.je);this.Yk();l&&this.xo();this.we(c.pd);h&&this.we(h.pd);0===this.Jc&&(0===k&&!this.Uh&&(!this.ic.$e()||this.gc.length))&&this.Oa();this.bj--;return d};d.prototype.Co=function(){this.zg++;this.zg>=this.hi.length&&this.hi.push([])};d.prototype.xo=function(){this.zg--};d.prototype.Uj=function(){return this.hi[this.zg]};d.prototype.Di=function(a){this.Tf++;this.Tf>=this.uh.length&&this.uh.push(new Wa);var b=
this.Fb();b.reset(a);return b};d.prototype.Yk=function(){this.Tf--};d.prototype.Fb=function(){return this.uh[this.Tf]};d.prototype.Vj=function(a,b){for(var c,e,k,f,d,h;b;){c=0;for(e=b.Nb.length;c<e;c++)if(h=b.Nb[c],h instanceof Xa&&a.toLowerCase()===h.name.toLowerCase())return h;b=b.parent}c=0;for(e=this.Gd.length;c<e;c++){d=this.Gd[c];k=0;for(f=d.$c.length;k<f;k++)if(h=d.$c[k],h instanceof Xa&&a.toLowerCase()===h.name.toLowerCase())return h}return n};d.prototype.Wj=function(a){var b,c;b=0;for(c=
this.Vb.length;b<c;b++)if(this.Vb[b].G===a)return this.Vb[b];return n};d.prototype.dg=function(a){var b,c;b=0;for(c=this.k.length;b<c;b++)if(this.k[b].G===a)return this.k[b];return n};d.prototype.An=function(a){var b,c;b=0;for(c=this.Zd.length;b<c;b++)if(this.Zd[b].G===a)return this.Zd[b];return n};d.prototype.Wn=function(){var b=this,c=this.xf,e=this.Tb,k=this.wg,f=q;this.ol&&(f=m,c="__c2_continuouspreview",this.ol=q);if(c.length){this.Oa();e=this.No();if(window.indexedDB)l(c,e,function(){T("Saved state to IndexedDB storage ("+
e.length+" bytes)");b.Tb=e;b.trigger(Z.prototype.j.$g,n);b.Tb="";f&&a()},function(c){try{localStorage.setItem("__c2save_"+b.xf,b.Tb),T("Saved state to WebStorage ("+e.length+" bytes)"),b.Tb=e,b.trigger(Z.prototype.j.$g,n),b.Tb="",f&&a()}catch(k){T("Failed to save game state: "+c+"; "+k)}});else try{localStorage.setItem("__c2save_"+this.xf,this.Tb),T("Saved state to IndexedDB storage ("+e.length+" bytes)"),b.Tb=e,this.trigger(Z.prototype.j.$g,n),b.Tb="",f&&a()}catch(r){T("Error saving to WebStorage: "+
r)}this.Pa=this.wg=this.xf=""}k.length&&(window.indexedDB?p(k,function(a){a?(b.Pa=a,T("Loaded state from IndexedDB storage ("+b.Pa.length+" bytes)")):(b.Pa=localStorage.getItem("__c2save_"+k)||"",T("Loaded state from WebStorage ("+b.Pa.length+" bytes)"));b.Cf=q;b.Pa.length||b.trigger(Z.prototype.j.Zg,n)},function(){b.Pa=localStorage.getItem("__c2save_"+k)||"";T("Loaded state from WebStorage ("+b.Pa.length+" bytes)");b.Cf=q;b.Pa.length||b.trigger(Z.prototype.j.Zg,n)}):(this.Pa=localStorage.getItem("__c2save_"+
k)||"",T("Loaded state from WebStorage ("+this.Pa.length+" bytes)"),this.Cf=q,b.Pa.length||b.trigger(Z.prototype.j.Zg,n)),this.xf=this.wg="");this.Pa.length&&(this.Oa(),this.io(this.Pa),this.Tb=this.Pa,this.trigger(Z.prototype.j.Ul,n),this.Pa=this.Tb="")};d.prototype.No=function(){var a,c,e,k,f,r,d,h={c2save:m,version:1,rt:{time:this.Sb.xb,timescale:this.Vd,tickcount:this.Pc,execcount:this.Vf,next_uid:this.nf,running_layout:this.S.G,start_time_offset:Date.now()-this.Bf},types:{},layouts:{},events:{groups:{},
cnds:{},acts:{},vars:{}}};a=0;for(c=this.k.length;a<c;a++)if(f=this.k[a],!f.L&&!this.Cl(f)){r={instances:[]};Ha(f.ea)&&(r.ex=b(f.ea));e=0;for(k=f.d.length;e<k;e++)r.instances.push(this.hl(f.d[e]));h.types[f.G.toString()]=r}a=0;for(c=this.Vb.length;a<c;a++)e=this.Vb[a],h.layouts[e.G.toString()]=e.Kb();k=h.events.groups;a=0;for(c=this.Zd.length;a<c;a++)e=this.Zd[a],k[e.G.toString()]=!!this.bh[e.eg];c=h.events.cnds;for(d in this.ae)this.ae.hasOwnProperty(d)&&(a=this.ae[d],Ha(a.ea)&&(c[d]={ex:a.ea}));
c=h.events.acts;for(d in this.Yd)this.Yd.hasOwnProperty(d)&&(a=this.Yd[d],Ha(a.ea)&&(c[d]={ex:a.ea}));c=h.events.vars;for(d in this.Fe)if(this.Fe.hasOwnProperty(d)&&(a=this.Fe[d],!a.lg&&(!a.parent||a.df)))c[d]=a.data;h.system=this.Oc.Kb();return JSON.stringify(h)};d.prototype.io=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){var b=a.rt;this.Sb.reset();this.Sb.xb=b.time;this.Vd=b.timescale;this.Pc=b.tickcount;this.Vf=b.execcount;this.Bf=Date.now()-b.start_time_offset;var c=b.running_layout;
if(c!==this.S.G)if(c=this.Wj(c))this.Kj(c);else return;this.jk=m;var e,k,f,d,h,l,g;f=a.types;for(d in f)if(f.hasOwnProperty(d)&&(h=this.dg(parseInt(d,10)))&&!h.L&&!this.Cl(h)){f[d].ex?h.ea=f[d].ex:Ia(h.ea);l=h.d;k=f[d].instances;c=0;for(e=ga(l.length,k.length);c<e;c++)this.ci(l[c],k[c]);c=k.length;for(e=l.length;c<e;c++)this.yd(l[c]);c=l.length;for(e=k.length;c<e;c++){l=n;if(h.ja.ed&&(l=this.S.bg(k[c].w.l),!l))continue;l=this.Dd(h.jc,l,q,0,0,m);this.ci(l,k[c])}h.td=m}this.Oa();this.se={};c=0;for(e=
this.k.length;c<e;c++)if(h=this.k[c],!h.L){k=0;for(f=h.d.length;k<f;k++)l=h.d[k],this.se[l.uid.toString()]=l}e=a.layouts;for(d in e)e.hasOwnProperty(d)&&(c=this.Wj(parseInt(d,10)))&&c.nc(e[d]);e=a.events.groups;for(d in e)e.hasOwnProperty(d)&&(c=this.An(parseInt(d,10)))&&(this.bh[c.eg]=e[d]);c=a.events.cnds;for(d in c)c.hasOwnProperty(d)&&this.ae.hasOwnProperty(d)&&(this.ae[d].ea=c[d].ex);c=a.events.acts;for(d in c)c.hasOwnProperty(d)&&this.Yd.hasOwnProperty(d)&&(this.Yd[d].ea=c[d].ex);c=a.events.vars;
for(d in c)c.hasOwnProperty(d)&&this.Fe.hasOwnProperty(d)&&(this.Fe[d].data=c[d]);this.nf=b.next_uid;this.jk=q;this.Oc.nc(a.system);c=0;for(e=this.k.length;c<e;c++)if(h=this.k[c],!h.L){k=0;for(f=h.d.length;k<f;k++){l=h.d[k];if(h.Rb){b=l.We();d=l.siblings.length=0;for(a=h.Ta.length;d<a;d++)g=h.Ta[d],h!==g&&l.siblings.push(g.d[b])}l.Jf&&l.Jf();if(l.N){d=0;for(a=l.N.length;d<a;d++)b=l.N[d],b.Jf&&b.Jf()}}}this.R=m}};d.prototype.hl=function(a){var c,e,k,f,d;f=a.type;k=f.ja;var h={uid:a.uid};Ha(a.ea)&&
(h.ex=b(a.ea));if(a.Ka&&a.Ka.length){h.ivs={};c=0;for(e=a.Ka.length;c<e;c++)h.ivs[a.type.Rh[c].toString()]=a.Ka[c]}if(k.ed){k={x:a.x,y:a.y,w:a.width,h:a.height,l:a.e.G,zi:a.ub()};0!==a.i&&(k.a=a.i);1!==a.opacity&&(k.o=a.opacity);0.5!==a.$a&&(k.hX=a.$a);0.5!==a.ab&&(k.hY=a.ab);0!==a.Sa&&(k.bm=a.Sa);a.visible||(k.v=a.visible);a.Nf||(k.ce=a.Nf);-1!==a.Rd&&(k.mts=a.Rd);if(f.C.length){k.fx=[];c=0;for(e=f.C.length;c<e;c++)d=f.C[c],k.fx.push({name:d.name,active:a.Uc[d.index],params:a.ba[d.index]})}h.w=k}if(a.N&&
a.N.length){h.behs={};c=0;for(e=a.N.length;c<e;c++)f=a.N[c],f.Kb&&(h.behs[f.type.G.toString()]=f.Kb())}a.Kb&&(h.data=a.Kb());return h};d.prototype.Cn=function(a,b){var c,e;c=0;for(e=a.Rh.length;c<e;c++)if(a.Rh[c]===b)return c;return-1};d.prototype.xn=function(a,b){var c,e;c=0;for(e=a.N.length;c<e;c++)if(a.N[c].type.G===b)return c;return-1};d.prototype.ci=function(a,b){var c,e,k,f,d,h;h=a.type;k=h.ja;a.uid=b.uid;b.ex?a.ea=b.ex:Ia(a.ea);if(e=b.ivs)for(c in e)e.hasOwnProperty(c)&&(f=this.Cn(h,parseInt(c,
10)),0>f||f>=a.Ka.length||(a.Ka[f]=e[c]));if(k.ed){f=b.w;a.e.G!==f.l&&(e=a.e,a.e=this.S.bg(f.l),a.e?(a.e.d.push(a),a.e.nb=m,ra(e.d,a),e.nb=m):(a.e=e,this.yd(a)));a.x=f.x;a.y=f.y;a.width=f.w;a.height=f.h;a.Xd=f.zi;a.i=f.hasOwnProperty("a")?f.a:0;a.opacity=f.hasOwnProperty("o")?f.o:1;a.$a=f.hasOwnProperty("hX")?f.hX:0.5;a.ab=f.hasOwnProperty("hY")?f.hY:0.5;a.visible=f.hasOwnProperty("v")?f.v:m;a.Nf=f.hasOwnProperty("ce")?f.ce:m;a.Rd=f.hasOwnProperty("mts")?f.mts:-1;a.Sa=f.hasOwnProperty("bm")?f.bm:
0;a.Oe=Oa(a.Sa);this.n&&Pa(a,a.Sa,this.n);a.Ga();if(f.hasOwnProperty("fx")){e=0;for(k=f.fx.length;e<k;e++)d=h.Fh(f.fx[e].name),0>d||(a.Uc[d]=f.fx[e].active,a.ba[d]=f.fx[e].params)}a.Rc()}if(h=b.behs)for(c in h)h.hasOwnProperty(c)&&(f=this.xn(a,parseInt(c,10)),0>f||a.N[f].nc(h[c]));b.data&&a.nc(b.data)};Ya=function(a){return new d(document.getElementById(a))};Za=function(a,b){return new d({dc:m,width:a,height:b})};window.cr_createRuntime=Ya;window.cr_createDCRuntime=Za;window.createCocoonJSRuntime=
function(){window.c2cocoonjs=m;var a=document.createElement("screencanvas");document.body.appendChild(a);a=new d(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});return a}})();window.cr_getC2Runtime=function(){var d=document.getElementById("c2canvas");return d?d.c2runtime:window.c2runtime?window.c2runtime:n};
window.cr_sizeCanvas=function(d,g){if(!(0===d||0===g)){var l=window.cr_getC2Runtime();l&&l.setSize(d,g)}};window.cr_setSuspended=function(d){var g=window.cr_getC2Runtime();g&&g.setSuspended(d)};
(function(){function d(a,b){this.b=a;this.Sf=n;this.scrollX=this.b.gb/2;this.scrollY=this.b.fb/2;this.scale=1;this.i=0;this.Sj=m;this.name=b[0];this.width=b[1];this.height=b[2];this.Dl=b[3];this.ml=b[4];this.G=b[5];var c=b[6],e,d;this.I=[];this.Ze=[];e=0;for(d=c.length;e<d;e++){var f=new $a(this,c[e]);f.Ik=e;this.I.push(f)}c=b[7];this.Jd=[];e=0;for(d=c.length;e<d;e++){var f=c[e],k=this.b.k[f[1]];k.jc||(k.jc=f);this.Jd.push(f);-1===this.Ze.indexOf(k)&&this.Ze.push(k)}this.C=[];this.M=[];this.ba=[];
e=0;for(d=b[8].length;e<d;e++)this.C.push({id:b[8][e][0],name:b[8][e][1],Ha:-1,vc:m,index:e}),this.ba.push(b[8][e][2].slice(0));this.Rc();this.xe=new ka(0,0,1,1);this.Gi=new ka(0,0,1,1);this.kd={}}function g(a,b){this.U=a;this.b=a.b;this.d=[];this.scale=1;this.i=0;this.Ed=q;this.Qc=new ka(0,0,0,0);this.yl=new la;this.jb=this.mb=this.lb=this.kb=0;this.nb=q;this.name=b[0];this.index=b[1];this.G=b[2];this.visible=b[3];this.Vc=b[4];this.Wd=b[5];this.hd=b[6];this.jd=b[7];this.opacity=b[8];this.yh=b[9];
this.Tc=b[10];this.Sa=b[11];this.Om=b[12];this.Oe="source-over";this.Ia=this.La=0;this.nd=q;var c=b[13],e,d;this.fe=[];e=0;for(d=c.length;e<d;e++){var f=c[e],k=this.b.k[f[1]];k.jc||(k.jc=f);this.fe.push(f);-1===this.U.Ze.indexOf(k)&&this.U.Ze.push(k)}this.C=[];this.M=[];this.ba=[];e=0;for(d=b[14].length;e<d;e++)this.C.push({id:b[14][e][0],name:b[14][e][1],Ha:-1,vc:m,index:e}),this.ba.push(b[14][e][2].slice(0));this.Rc();this.xe=new ka(0,0,1,1);this.Gi=new ka(0,0,1,1)}function l(a,b){return a.Xd-b.Xd}
d.prototype.Mo=function(a){var b=a.type.G.toString();this.kd.hasOwnProperty(b)||(this.kd[b]=[]);this.kd[b].push(this.b.hl(a))};d.prototype.ak=function(){var a=this.I[0];return!a.Wd&&1===a.opacity&&!a.yh&&a.visible};d.prototype.Rc=function(){this.M.length=0;var a,b,c;a=0;for(b=this.C.length;a<b;a++)c=this.C[a],c.vc&&this.M.push(c)};d.prototype.Eh=function(a){var b,c,e;b=0;for(c=this.C.length;b<c;b++)if(e=this.C[b],e.name===a)return e;return n};var p=[];d.prototype.Ui=function(){this.ml&&(this.Sf=this.b.vh[this.ml]);
this.b.S=this;this.scrollX=this.b.gb/2;this.scrollY=this.b.fb/2;var a,b,c,e,d,f,k;a=0;for(c=this.b.k.length;a<c;a++)if(b=this.b.k[a],!b.L){d=b.d;b=0;for(e=d.length;b<e;b++)if(f=d[b],f.e){var w=f.e.Ik;w>=this.I.length&&(w=this.I.length-1);f.e=this.I[w];f.e.d.push(f);f.e.nb=m}}a=p.length=0;for(c=this.I.length;a<c;a++)f=this.I[a],f.Bm(),f.Ed=m,b=f.Wa(0,0,m),e=f.Wa(0,0,q),f.Ed=q,this.b.ld&&(b=b+0.5|0,e=e+0.5|0),f.Ji(b,e,n);if(!this.Sj){for(k in this.kd)if(this.kd.hasOwnProperty(k)&&(b=this.b.dg(parseInt(k,
10)))&&!b.L&&this.b.cj(b)){e=this.kd[k];a=0;for(c=e.length;a<c;a++){f=n;if(b.ja.ed&&(f=this.bg(e[a].w.l),!f))continue;f=this.b.Dd(b.jc,f,q,0,0,m);this.b.ci(f,e[a]);p.push(f)}e.length=0}a=0;for(c=this.I.length;a<c;a++)this.I[a].d.sort(l),this.I[a].nb=m}for(a=0;a<p.length;a++)if(f=p[a],f.type.Rb){c=f.We();b=0;for(e=f.type.Ta.length;b<e;b++)k=f.type.Ta[b],f.type!==k&&(k.d.length>c?f.siblings.push(k.d[c]):k.jc&&(d=this.b.Dd(k.jc,f.e,m,f.x,f.y,m),this.b.Oa(),k.Tg(),f.siblings.push(d),p.push(d)))}a=0;for(c=
this.Jd.length;a<c;a++)this.b.Dd(this.Jd[a],n,m);this.b.jh=n;this.b.Oa();if(this.b.P&&!this.b.Ua){a=0;for(c=this.b.k.length;a<c;a++)k=this.b.k[a],!k.L&&(k.d.length&&k.$k)&&k.$k(this.b.P)}a=0;for(c=p.length;a<c;a++)f=p[a],this.b.trigger(Object.getPrototypeOf(f.type.ja).j.Ol,f);p.length=0;this.b.trigger(Z.prototype.j.Tl,n);this.Sj=q};d.prototype.Am=function(){var a,b,c,e,d;b=a=0;for(c=this.Jd.length;a<c;a++)e=this.Jd[a],d=this.b.k[e[1]],d.global?this.b.Dd(e,n,m):(this.Jd[b]=e,b++);this.Jd.length=b};
d.prototype.Vo=function(){this.b.trigger(Z.prototype.j.Sl,n);this.b.Oc.Ab.length=0;var a,b,c,e,d,f;a=0;for(b=this.I.length;a<b;a++){d=this.I[a].d;c=0;for(e=d.length;c<e;c++)f=d[c],f.type.global||(this.b.cj(f.type)&&this.Mo(f),this.b.yd(f));this.b.Oa();d.length=0;this.I[a].nb=m}a=0;for(b=this.b.k.length;a<b;a++)if(d=this.b.k[a],!d.global&&!d.ja.ed&&!d.ja.Ti&&!d.L){c=0;for(e=d.d.length;c<e;c++)this.b.yd(d.d[c]);this.b.Oa()}};d.prototype.Cc=function(a){a.globalAlpha=1;a.globalCompositeOperation="source-over";
this.b.Ej&&!this.ak()&&a.clearRect(0,0,this.b.width,this.b.height);var b,c,e;b=0;for(c=this.I.length;b<c;b++)e=this.I[b],e.visible&&(0<e.opacity&&11!==e.Sa)&&e.Cc(a)};d.prototype.Qb=function(a){var b=0<this.M.length||this.b.Ee;if(b){this.b.Ub||(this.b.Ub=a.zc(this.b.width,this.b.height,this.b.ra));if(this.b.Ub.Me!==this.b.width||this.b.Ub.Le!==this.b.height)a.deleteTexture(this.b.Ub),this.b.Ub=a.zc(this.b.width,this.b.height,this.b.ra);a.Nc(this.b.Ub)}this.b.Ej&&!this.ak()&&a.clear(0,0,0,0);var c,
e;c=0;for(e=this.I.length;c<e;c++)this.I[c].visible&&0<this.I[c].opacity&&this.I[c].Qb(a);b&&(1>=this.M.length?(1===this.M.length?(b=this.M[0].index,a.sc(this.M[0].Ha),a.ze(n,1/this.b.width,1/this.b.height,0,0,1,1,this.scale,this.ba[b]),a.Ig(this.M[0].Ha)&&(this.b.R=m)):a.sc(0),a.Nc(n),a.ye(1),a.Lb(this.b.Ub),a.il(),a.rc(),a.tc(),b=this.b.width/2,c=this.b.height/2,a.Jg(-b,c,b,c,b,-c,-b,-c),a.Lb(n)):this.Hi(a,n,n,n));a.Ao()};d.prototype.Ve=function(){return 0<this.M.length||this.b.Ee?this.b.Ub:n};
d.prototype.Xj=function(){var a=this.I[0].Ya(),b,c,e;b=1;for(c=this.I.length;b<c;b++)e=this.I[b],0===e.hd&&0===e.jd||e.Ya()<a&&(a=e.Ya());return a};d.prototype.Oo=function(a){if(!this.Dl){var b=this.b.width*(1/this.Xj())/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.b.R=m)};d.prototype.Po=function(a){if(!this.Dl){var b=this.b.height*(1/this.Xj())/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.b.R=m)};d.prototype.Hi=function(a,
b,c,e){var d=c?c.M:b?b.M:this.M,f=c?c.e.Ya():b?b.Ya():1,k=this.b.Bh,l,g,s,p,u=0,r=1,v,D=this.b.width,I=this.b.height,E=D/2,Q=I/2,J=b?b.xe:this.xe,t=b?b.Gi:this.Gi,z=0,K=0,G=0,N=0,F=D,C=D,H=I,W=I,M=s=0,A=c?c.e.Gc():0;if(c){l=0;for(g=d.length;l<g;l++)s+=a.Fn(d[l].Ha),M+=a.Gn(d[l].Ha);p=c.K;z=b.wa(p.left,p.top,m);G=b.wa(p.left,p.top,q);F=b.wa(p.right,p.bottom,m);H=b.wa(p.right,p.bottom,q);0!==A&&(l=b.wa(p.right,p.top,m),g=b.wa(p.right,p.top,q),K=b.wa(p.left,p.bottom,m),N=b.wa(p.left,p.bottom,q),p=Math.min(z,
F,l,K),F=Math.max(z,F,l,K),z=p,p=Math.min(G,H,g,N),H=Math.max(G,H,g,N),G=p);z-=s;G-=M;F+=s;H+=M;t.left=z/D;t.top=1-G/I;t.right=F/D;t.bottom=1-H/I;K=z=Math.floor(z);N=G=Math.floor(G);C=F=Math.ceil(F);W=H=Math.ceil(H);K-=s;N-=M;C+=s;W+=M;0>z&&(z=0);0>G&&(G=0);F>D&&(F=D);H>I&&(H=I);0>K&&(K=0);0>N&&(N=0);C>D&&(C=D);W>I&&(W=I);J.left=z/D;J.top=1-G/I;J.right=F/D;J.bottom=1-H/I}else J.left=t.left=0,J.top=t.top=0,J.right=t.right=1,J.bottom=t.bottom=1;M=c&&((c.i||A)&&a.sf(d[0].Ha)||0!==s||0!==M||1!==c.opacity||
c.type.ja.Ek)||b&&!c&&1!==b.opacity;a.il();if(M){k[u]||(k[u]=a.zc(D,I,this.b.ra));if(k[u].Me!==D||k[u].Le!==I)a.deleteTexture(k[u]),k[u]=a.zc(D,I,this.b.ra);a.sc(0);a.Nc(k[u]);v=W-N;a.clearRect(K,I-N-v,C-K,v);c?c.Qb(a):(a.Lb(this.b.wb),a.ye(b.opacity),a.rc(),a.translate(-E,-Q),a.tc(),a.md(z,H,F,H,F,G,z,G,J));t.left=t.top=0;t.right=t.bottom=1;c&&(p=J.top,J.top=J.bottom,J.bottom=p);u=1;r=0}a.ye(1);s=d.length-1;var A=a.Ai(d[s].Ha),fa=0;l=0;for(g=d.length;l<g;l++){k[u]||(k[u]=a.zc(D,I,this.b.ra));if(k[u].Me!==
D||k[u].Le!==I)a.deleteTexture(k[u]),k[u]=a.zc(D,I,this.b.ra);a.sc(d[l].Ha);fa=d[l].index;a.Ig(d[l].Ha)&&(this.b.R=m);0==l&&!M?(a.Nc(k[u]),v=W-N,p=I-N-v,a.clearRect(K,p,C-K,v),c?(a.ze(e,1/c.width,1/c.height,t.left,t.top,t.right,t.bottom,f,c.ba[fa]),c.Qb(a)):(a.ze(e,1/D,1/I,0,0,1,1,f,b?b.ba[fa]:this.ba[fa]),a.Lb(b?this.b.wb:this.b.Ub),a.rc(),a.translate(-E,-Q),a.tc(),a.md(z,H,F,H,F,G,z,G,J)),t.left=t.top=0,t.right=t.bottom=1,c&&!A&&(p=H,H=G,G=p)):(a.ze(e,1/D,1/I,t.left,t.top,t.right,t.bottom,f,c?c.ba[fa]:
b?b.ba[fa]:this.ba[fa]),l===s&&!A?(c?a.od(c.La,c.Ia):b&&a.od(b.La,b.Ia),a.Nc(e)):(a.Nc(k[u]),v=W-N,p=I-N-v,a.clearRect(K,p,C-K,v)),a.Lb(k[r]),a.rc(),a.translate(-E,-Q),a.tc(),a.md(z,H,F,H,F,G,z,G,J),l===s&&!A&&a.Lb(n));u=0===u?1:0;r=0===u?1:0}A&&(a.sc(0),c?a.od(c.La,c.Ia):b&&a.od(b.La,b.Ia),a.Nc(e),a.Lb(k[r]),a.rc(),a.translate(-E,-Q),a.tc(),c&&1===d.length&&!M?a.md(z,G,F,G,F,H,z,H,J):a.md(z,H,F,H,F,G,z,G,J),a.Lb(n))};d.prototype.bg=function(a){var b,c;b=0;for(c=this.I.length;b<c;b++)if(this.I[b].G===
a)return this.I[b];return n};d.prototype.Kb=function(){var a,b,c,e={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.i,w:this.width,h:this.height,persist:this.kd,fx:[],layers:{}};a=0;for(b=this.C.length;a<b;a++)c=this.C[a],e.fx.push({name:c.name,active:c.vc,params:this.ba[c.index]});a=0;for(b=this.I.length;a<b;a++)c=this.I[a],e.layers[c.G.toString()]=c.Kb();return e};d.prototype.nc=function(a){var b,c,e,d;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.i=a.a;this.width=a.w;this.height=
a.h;this.kd=a.persist;var f=a.fx;b=0;for(c=f.length;b<c;b++)if(e=this.Eh(f[b].name))e.vc=f[b].active,this.ba[e.index]=f[b].params;this.Rc();b=a.layers;for(d in b)b.hasOwnProperty(d)&&(a=this.bg(parseInt(d,10)))&&a.nc(b[d])};Ua=d;g.prototype.Rc=function(){this.M.length=0;var a,b,c;a=0;for(b=this.C.length;a<b;a++)c=this.C[a],c.vc&&this.M.push(c)};g.prototype.Eh=function(a){var b,c,e;b=0;for(c=this.C.length;b<c;b++)if(e=this.C[b],e.name===a)return e;return n};g.prototype.Bm=function(){var a,b,c,e;b=
a=0;for(c=this.fe.length;a<c;a++)e=this.b.Dd(this.fe[a],this,m),p.push(e),e&&(!e.type.global&&!this.b.cj(e.type))&&(this.fe[b]=this.fe[a],b++);this.fe.length=b;this.b.Oa();!this.b.A&&this.C.length&&(this.Sa=this.Om);this.Oe=Oa(this.Sa);this.b.n&&Pa(this,this.Sa,this.b.n)};g.prototype.$o=function(){if(this.nb){var a,b;a=0;for(b=this.d.length;a<b;a++)this.d[a].Xd=a;this.nb=q}};g.prototype.Ya=function(){return this.Dn()*this.b.Kf};g.prototype.Dn=function(){return(this.scale*this.U.scale-1)*this.Tc+1};
g.prototype.Gc=function(){return this.Ed?0:ua(this.U.i+this.i)};g.prototype.Cc=function(a){this.nd=this.yh||1!==this.opacity||0!==this.Sa;var b=this.b.canvas,c=a;a.globalAlpha=1;a.globalCompositeOperation="source-over";this.nd&&(this.b.vg||(this.b.vg=document.createElement("canvas"),b=this.b.vg,b.width=this.b.width,b.height=this.b.height,this.b.vk=b.getContext("2d")),b=this.b.vg,c=this.b.vk,b.width!==this.b.width&&(b.width=this.b.width),b.height!==this.b.height&&(b.height=this.b.height),this.Wd&&
c.clearRect(0,0,this.b.width,this.b.height));this.Wd||(c.fillStyle="rgb("+this.Vc[0]+","+this.Vc[1]+","+this.Vc[2]+")",c.fillRect(0,0,this.b.width,this.b.height));c.save();this.Ed=m;var e=this.Wa(0,0,m),d=this.Wa(0,0,q);this.Ed=q;this.b.ld&&(e=e+0.5|0,d=d+0.5|0);this.Ji(e,d,c);var f=this.Ya();c.scale(f,f);c.translate(-e,-d);for(var k,e=0,d=this.d.length;e<d;e++)if(f=this.d[e],f.visible&&!(0===f.width||0===f.height))f.Ob(),k=f.K,k.right<this.kb||(k.bottom<this.mb||k.left>this.lb||k.top>this.jb)||(c.globalCompositeOperation=
f.Oe,f.Cc(c));c.restore();this.nd&&(a.globalCompositeOperation=this.Oe,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};g.prototype.Ji=function(a,b,c){var e=this.Ya();this.kb=a;this.mb=b;this.lb=a+this.b.width*(1/e);this.jb=b+this.b.height*(1/e);a=this.Gc();0!==a&&(c&&(c.translate(this.b.width/2,this.b.height/2),c.rotate(-a),c.translate(this.b.width/-2,this.b.height/-2)),this.Qc.set(this.kb,this.mb,this.lb,this.jb),this.Qc.offset((this.kb+this.lb)/-2,(this.mb+this.jb)/-2),this.yl.ll(this.Qc,a),this.yl.Aj(this.Qc),
this.Qc.offset((this.kb+this.lb)/2,(this.mb+this.jb)/2),this.kb=this.Qc.left,this.mb=this.Qc.top,this.lb=this.Qc.right,this.jb=this.Qc.bottom)};g.prototype.Qb=function(a){var b=this.b.width,c=this.b.height,e=0,d=0;if(this.nd=this.yh||1!==this.opacity||0<this.M.length||0!==this.Sa){this.b.wb||(this.b.wb=a.zc(this.b.width,this.b.height,this.b.ra));if(this.b.wb.Me!==this.b.width||this.b.wb.Le!==this.b.height)a.deleteTexture(this.b.wb),this.b.wb=a.zc(this.b.width,this.b.height,this.b.ra);a.Nc(this.b.wb);
this.Wd&&a.clear(0,0,0,0)}this.Wd||a.clear(this.Vc[0]/255,this.Vc[1]/255,this.Vc[2]/255,1);this.Ed=m;var d=this.Wa(0,0,m),f=this.Wa(0,0,q);this.Ed=q;this.b.ld&&(d=d+0.5|0,f=f+0.5|0);this.Ji(d,f,n);f=this.Ya();a.rc();a.scale(f,f);a.Ki(-this.Gc());a.translate((this.kb+this.lb)/-2,(this.mb+this.jb)/-2);a.tc();var k,l,g;k=0;for(l=this.d.length;k<l;k++)if(g=this.d[k],g.visible&&!(0===g.width||0===g.height))if(g.Ob(),e=g.K,!(e.right<this.kb||e.bottom<this.mb||e.left>this.lb||e.top>this.jb))if(g.Hl)if(e=
g.M[0].Ha,d=g.M[0].index,1===g.M.length&&!a.Ai(e)&&!a.Bo(e)&&(!g.i&&!g.e.Gc()||!a.sf(e))&&1===g.opacity&&!g.type.ja.Ek){a.sc(e);a.od(g.La,g.Ia);a.Ig(e)&&(this.b.R=m);var s=0,p=0,u=0,r=0;a.sf(e)&&(e=g.K,s=this.wa(e.left,e.top,m),p=this.wa(e.left,e.top,q),u=this.wa(e.right,e.bottom,m),e=this.wa(e.right,e.bottom,q),s/=b,p=1-p/c,u/=b,r=1-e/c);a.ze(this.nd?this.b.wb:this.U.Ve(),1/g.width,1/g.height,s,p,u,r,this.Ya(),g.ba[d]);g.Qb(a)}else this.U.Hi(a,this,g,this.nd?this.b.wb:this.U.Ve()),a.rc(),a.scale(f,
f),a.Ki(-this.Gc()),a.translate((this.kb+this.lb)/-2,(this.mb+this.jb)/-2),a.tc();else a.sc(0),a.od(g.La,g.Ia),g.Qb(a);this.nd&&(e=this.M.length?this.M[0].Ha:0,d=this.M.length?this.M[0].index:0,0===this.M.length||1===this.M.length&&!a.Ai(e)&&1===this.opacity?(1===this.M.length?(a.sc(e),a.ze(this.U.Ve(),1/this.b.width,1/this.b.height,0,0,1,1,this.Ya(),this.ba[d]),a.Ig(e)&&(this.b.R=m)):a.sc(0),a.Nc(this.U.Ve()),a.ye(this.opacity),a.Lb(this.b.wb),a.od(this.La,this.Ia),a.rc(),a.tc(),b=this.b.width/2,
c=this.b.height/2,a.Jg(-b,c,b,c,b,-c,-b,-c),a.Lb(n)):this.U.Hi(a,this,n,this.U.Ve()))};g.prototype.Wa=function(a,b,c){var e=this.b.devicePixelRatio;!this.b.Ua&&(this.b.Ug&&this.b.Md)&&0<this.b.Fc&&(a*=e,b*=e);var e=this.b.gb/2,d=this.b.fb/2,e=(this.U.scrollX-e)*this.hd+e,d=(this.U.scrollY-d)*this.jd+d,f=1/this.Ya(),e=e-this.b.width*f/2,d=d-this.b.height*f/2,e=e+a*f,d=d+b*f;b=this.Gc();0!==b&&(e-=this.U.scrollX,d-=this.U.scrollY,a=Math.cos(b),b=Math.sin(b),f=e*a-d*b,d=d*a+e*b,e=f+this.U.scrollX,d+=
this.U.scrollY);return c?e:d};g.prototype.wa=function(a,b,c){var e=this.Gc();if(0!==e){a-=this.U.scrollX;b-=this.U.scrollY;var d=Math.cos(-e),e=Math.sin(-e),f=a*d-b*e;b=b*d+a*e;a=f+this.U.scrollX;b+=this.U.scrollY}d=this.b.gb/2;e=this.b.fb/2;d=(this.U.scrollX-d)*this.hd+d;e=(this.U.scrollY-e)*this.jd+e;f=1/this.Ya();d-=this.b.width*f/2;e-=this.b.height*f/2;d=(a-d)/f;e=(b-e)/f;a=this.b.devicePixelRatio;!this.b.Ua&&(this.b.Ug&&this.b.Md)&&0<this.b.Fc&&(d/=a,e/=a);return c?d:e};g.prototype.Kb=function(){var a,
b,c,e={s:this.scale,a:this.i,vl:this.kb,vt:this.mb,vr:this.lb,vb:this.jb,v:this.visible,bc:this.Vc,t:this.Wd,px:this.hd,py:this.jd,o:this.opacity,zr:this.Tc,fx:[],instances:[]};a=0;for(b=this.C.length;a<b;a++)c=this.C[a],e.fx.push({name:c.name,active:c.vc,params:this.ba[c.index]});return e};g.prototype.nc=function(a){var b,c;this.scale=a.s;this.i=a.a;this.kb=a.vl;this.mb=a.vt;this.lb=a.vr;this.jb=a.vb;this.visible=a.v;this.Vc=a.bc;this.Wd=a.t;this.hd=a.px;this.jd=a.py;this.opacity=a.o;this.Tc=a.zr;
var e=a.fx;a=0;for(b=e.length;a<b;a++)if(c=this.Eh(e[a].name))c.vc=e[a].active,this.ba[c.index]=e[a].params;this.Rc();this.d.sort(l);this.nb=m};$a=g})();
(function(){function d(a,b){var c,e=a.length;switch(e){case 0:return m;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<e;c++)if(a[c]!==b[c])return q;return m}}function g(a,b){return a.index-b.index}function l(a){var b,c,e,f;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(g);a.length>=s.length&&(s.length=a.length+1);s[a.length]||(s[a.length]=[]);f=s[a.length];b=0;for(c=f.length;b<c;b++)if(e=f[b],d(a,e))return e;f.push(a);return a}
function p(a,b){this.b=a;this.Al={};this.Pj={};this.Mh=q;this.dk=new Ka;this.name=b[0];var c=b[1];this.$c=[];var e,f;e=0;for(f=c.length;e<f;e++)this.fk(c[e],n,this.$c)}function a(a){this.type=a;this.d=[];this.ca=[];this.za=m}function b(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.la=[];this.pd=[];this.bk=this.Qg=this.$i=this.Qh=this.group=this.pl=q;this.ua=[];this.Pb=[];this.Nb=[];c[1]?(this.eg=c[1][1].toLowerCase(),this.group=m,this.Qh=!!c[1][0],this.b.Zd.push(this),this.b.bh[this.eg.toLowerCase()]=
this.Qh):(this.eg="",this.Qh=this.group=q);this.pc=c[2];this.G=c[3];this.group||(this.b.zj[this.G.toString()]=this);var e=c[4];a=0;for(b=e.length;a<b;a++){var f=new eb(this,e[a]);this.ua.push(f);this.tj(f.type)}e=c[5];a=0;for(b=e.length;a<b;a++)f=new fb(this,e[a]),this.Pb.push(f);if(7===c.length){c=c[6];a=0;for(b=c.length;a<b;a++)this.sheet.fk(c[a],this,this.Nb)}this.mg=q;this.ua.length&&(this.mg=this.ua[0].type==n&&this.ua[0].pa==Z.prototype.j.Jl)}function c(a,b){var c,e,f;if(a&&(-1===b.indexOf(a)&&
b.push(a),a.Rb)){c=0;for(e=a.Ta.length;c<e;c++)f=a.Ta[c],a!==f&&-1===b.indexOf(f)&&b.push(f)}}function e(a,b){this.Cb=a;this.sheet=a.sheet;this.b=a.b;this.p=[];this.D=[];this.ea={};this.pa=b[1];this.trigger=0<b[3];this.Oj=2===b[3];this.Lc=b[4];this.jg=b[5];this.ho=b[6];this.G=b[7];this.b.ae[this.G.toString()]=this;-1===b[0]?(this.type=n,this.ya=this.Ni,this.Ke=n,this.Fa=-1):(this.type=this.b.k[b[0]],this.ya=this.ho?this.Ko:this.Mi,b[2]?(this.Ke=this.type.ag(b[2]),this.Fa=this.type.Dh(b[2])):(this.Ke=
n,this.Fa=-1),this.Cb.parent&&this.Cb.parent.Mg());this.Oj&&(this.ya=this.Lo);if(9===b.length){var c,e,f=b[8];c=0;for(e=f.length;c<e;c++){var k=new gb(this,f[c]);this.p.push(k)}this.D.length=f.length}}function h(a,b){this.Cb=a;this.sheet=a.sheet;this.b=a.b;this.p=[];this.D=[];this.ea={};this.pa=b[1];-1===b[0]?(this.type=n,this.ya=this.Ni,this.Ke=n,this.Fa=-1):(this.type=this.b.k[b[0]],this.ya=this.Mi,b[2]?(this.Ke=this.type.ag(b[2]),this.Fa=this.type.Dh(b[2])):(this.Ke=n,this.Fa=-1));this.G=b[3];
this.b.Yd[this.G.toString()]=this;if(5===b.length){var c,e,f=b[4];c=0;for(e=f.length;c<e;c++){var k=new gb(this,f[c]);this.p.push(k)}this.D.length=f.length}}function f(a,b){this.q=a;this.Cb=a.Cb;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.kc=n;this.Fj=this.qd=0;this.U=n;this.key=0;this.object=n;this.index=0;this.Wg=this.Be=this.Qj=this.Hd=this.Hf=n;var c,e,f;switch(b[0]){case 0:case 7:this.kc=new X(this,b[1]);this.qd=0;this.get=this.Mn;break;case 1:this.kc=new X(this,b[1]);this.qd=0;this.get=
this.Nn;break;case 5:this.kc=new X(this,b[1]);this.qd=0;this.get=this.Rn;break;case 3:case 8:this.Fj=b[1];this.get=this.Kn;break;case 6:this.U=this.b.ai[b[1]];this.get=this.Sn;break;case 9:this.key=b[1];this.get=this.Qn;break;case 4:this.object=this.b.k[b[1]];this.get=this.Tn;this.Cb.tj(this.object);this.q instanceof fb?this.Cb.Mg():this.Cb.parent&&this.Cb.parent.Mg();break;case 10:this.index=b[1];this.get=a.type.L?this.On:this.Pn;break;case 11:this.Hf=b[1];this.Hd=n;this.get=this.Ln;break;case 2:case 12:this.Qj=
b[1];this.get=this.Jn;break;case 13:this.get=this.Un;this.Be=[];this.Wg=[];c=1;for(e=b.length;c<e;c++)f=new gb(this.q,b[c]),this.Be.push(f),this.Wg.push(0)}}function k(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.la=[];this.name=c[1];this.Kq=c[2];this.Ph=c[3];this.df=!!c[4];this.lg=!!c[5];this.G=c[6];this.b.Fe[this.G.toString()]=this;this.data=this.Ph;this.parent?this.Qd=this.df||this.lg?-1:this.b.Uo++:(this.Qd=-1,this.b.rm.push(this))}function w(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;
this.la=[];this.ig=n;this.Yn=c[1]}function x(){this.ql=[];this.reset(n)}var s=[];p.prototype.toString=P("name");p.prototype.fk=function(a,b,c){switch(a[0]){case 0:a=new hb(this,b,a);if(a.pc){c.push(a);c=0;for(b=a.ua.length;c<b;c++)a.ua[c].trigger&&this.gk(a,c)}else a.nk()?this.gk(a,0):c.push(a);break;case 1:a=new Xa(this,b,a);c.push(a);break;case 2:a=new ib(this,b,a),c.push(a)}};p.prototype.ka=function(){var a,b;a=0;for(b=this.$c.length;a<b;a++)this.$c[a].ka(a<b-1&&this.$c[a+1].mg)};p.prototype.ya=
function(){this.Mh=m;this.b.Uh=m;var a,b;a=0;for(b=this.$c.length;a<b;a++){var c=this.$c[a];c.ya();this.b.kh(c.la);(!this.b.ic.$e()||this.b.gc.length)&&this.b.Oa()}this.b.Uh=q};p.prototype.gk=function(a,b){a.pc||this.b.Sg.push(a);var c,e,f=a.ua[b],k;k=f.type?f.type.name:"system";var d=(c=f.Oj)?this.Pj:this.Al;d[k]||(d[k]=[]);k=d[k];d=f.pa;if(c){if(f.p.length&&(f=f.p[0],!(1!==f.type||2!==f.kc.type))){f=f.kc.value.toLowerCase();c=0;for(e=k.length;c<e;c++)if(k[c].method==d){c=k[c].Uf;c[f]?c[f].push([a,
b]):c[f]=[[a,b]];return}c={};c[f]=[[a,b]];k.push({method:d,Uf:c})}}else{c=0;for(e=k.length;c<e;c++)if(k[c].method==d){k[c].Uf.push([a,b]);return}k.push({method:d,Uf:[[a,b]]})}};Va=p;a.prototype.Lh=function(){return this.za?this.type.d.length:this.d.length};a.prototype.Hc=function(){return this.za?this.type.d:this.d};a.prototype.Vk=function(a){a&&(a.b.Fb().hc.pc?(this.za&&(this.d.length=0,qa(this.ca,a.type.d),this.za=q),a=this.ca.indexOf(a),-1!==a&&(this.d.push(this.ca[a]),this.ca.splice(a,1))):(this.za=
q,this.d.length=1,this.d[0]=a))};Ta=a;b.prototype.ka=function(a){var b,c=this.parent;if(this.group)for(this.Qg=m;c;){if(!c.group){this.Qg=q;break}c=c.parent}this.$i=!this.nk()&&(!this.parent||this.parent.group&&this.parent.Qg);this.bk=!!a;this.pd=this.la.slice(0);for(c=this.parent;c;){a=0;for(b=c.la.length;a<b;a++)this.qm(c.la[a]);c=c.parent}this.la=l(this.la);this.pd=l(this.pd);a=0;for(b=this.ua.length;a<b;a++)this.ua[a].ka();a=0;for(b=this.Pb.length;a<b;a++)this.Pb[a].ka();a=0;for(b=this.Nb.length;a<
b;a++)this.Nb[a].ka(a<b-1&&this.Nb[a+1].mg)};b.prototype.tj=function(a){c(a,this.la)};b.prototype.qm=function(a){c(a,this.pd)};b.prototype.Mg=function(){this.pl=m;this.parent&&this.parent.Mg()};b.prototype.nk=function(){return this.ua.length?this.ua[0].trigger:q};b.prototype.ya=function(){var a,b=q,c=this.b.Fb();c.hc=this;this.mg||(c.sh=q);if(this.pc){0===this.ua.length&&(b=m);c.Xa=0;for(a=this.ua.length;c.Xa<a;c.Xa++)this.ua[c.Xa].trigger||this.ua[c.Xa].ya()&&(b=m);(c.je=b)&&this.Li()}else{c.Xa=
0;for(a=this.ua.length;c.Xa<a;c.Xa++)if(!this.ua[c.Xa].ya()){c.je=q;this.$i&&(!this.b.ic.$e()||this.b.gc.length)&&this.b.Oa();return}c.je=m;this.Li()}c.je&&this.bk&&(c.sh=m);this.$i&&(!this.b.ic.$e()||this.b.gc.length)&&this.b.Oa()};b.prototype.Io=function(a){this.b.Fb().hc=this;this.ua[a].ya()&&this.Li()};b.prototype.Li=function(){var a=this.b.Fb(),b;a.Bb=0;for(b=this.Pb.length;a.Bb<b;a.Bb++)if(this.Pb[a.Bb].ya())return;this.fl()};b.prototype.Fo=function(){var a=this.b.Fb(),b;for(b=this.Pb.length;a.Bb<
b;a.Bb++)if(this.Pb[a.Bb].ya())return;this.fl()};b.prototype.fl=function(){if(this.Nb.length){var a,b,c,e,f=this.Nb.length-1;this.b.Di(this);if(this.pl){a=0;for(b=this.Nb.length;a<b;a++)c=this.Nb[a],(e=!this.Qg||!this.group&&a<f)&&this.b.Ci(c.la),c.ya(),e?this.b.we(c.la):this.b.kh(c.la)}else{a=0;for(b=this.Nb.length;a<b;a++)this.Nb[a].ya()}this.b.Yk()}};b.prototype.Jo=function(){var a=this.b.Fb();a.hc=this;var b=q,c;a.Xa=0;for(c=this.ua.length;a.Xa<c;a.Xa++)if(this.ua[a.Xa].ya())b=m;else if(!this.pc)return q;
return this.pc?b:m};hb=b;e.prototype.ka=function(){var a,b;a=0;for(b=this.p.length;a<b;a++)this.p[a].ka()};e.prototype.Lo=S(m);e.prototype.Ni=function(){var a,b;a=0;for(b=this.p.length;a<b;a++)this.D[a]=this.p[a].get();return Ea(this.pa.apply(this.b.Oc,this.D),this.jg)};e.prototype.Ko=function(){var a,b;a=0;for(b=this.p.length;a<b;a++)this.D[a]=this.p[a].get();a=this.pa.apply(this.type,this.D);this.type.Je();return a};e.prototype.Mi=function(){var a,b,c,e,f,k,d,l=this.type.qa(),h=this.Cb.pc&&!this.trigger,
s=0,g=this.type.Rb;if(l.za){l.d.length=0;a=l.ca.length=0;for(c=this.type.d.length;a<c;a++){k=this.type.d[a];b=0;for(e=this.p.length;b<e;b++)this.D[b]=this.p[b].get(a);-1<this.Fa?(this.type.L&&(s=k.type.de[this.type.lc]),b=this.pa.apply(k.N[this.Fa+s],this.D)):b=this.pa.apply(k,this.D);(f=Ea(b,this.jg))?l.d.push(k):h&&l.ca.push(k)}this.type.finish&&this.type.finish(m);l.za=q;this.type.Je();return l.Lh()}var p=0,w=h?l.ca:l.d;f=q;a=0;for(c=w.length;a<c;a++){k=w[a];b=0;for(e=this.p.length;b<e;b++)this.D[b]=
this.p[b].get(a);-1<this.Fa?(this.type.L&&(s=k.type.de[this.type.lc]),b=this.pa.apply(k.N[this.Fa+s],this.D)):b=this.pa.apply(k,this.D);if(Ea(b,this.jg))if(f=m,h){if(l.d.push(k),g){b=0;for(e=k.siblings.length;b<e;b++)d=k.siblings[b],d.type.qa().d.push(d)}}else{w[p]=k;if(g){b=0;for(e=k.siblings.length;b<e;b++)d=k.siblings[b],d.type.qa().d[p]=d}p++}else if(h){w[p]=k;if(g){b=0;for(e=k.siblings.length;b<e;b++)d=k.siblings[b],d.type.qa().ca[p]=d}p++}}w.length=p;if(g){a=0;for(c=this.type.Ta.length;a<c;a++)k=
this.type.Ta[a].qa(),h?k.ca.length=p:k.d.length=p}s=f;if(h&&!f){a=0;for(c=l.d.length;a<c;a++){k=l.d[a];b=0;for(e=this.p.length;b<e;b++)this.D[b]=this.p[b].get(a);b=-1<this.Fa?this.pa.apply(k.N[this.Fa],this.D):this.pa.apply(k,this.D);if(Ea(b,this.jg)){f=m;break}}}this.type.finish&&this.type.finish(s||h);return h?f:l.Lh()};eb=e;h.prototype.ka=function(){var a,b;a=0;for(b=this.p.length;a<b;a++)this.p[a].ka()};h.prototype.Ni=function(){var a,b;a=0;for(b=this.p.length;a<b;a++)this.D[a]=this.p[a].get();
return this.pa.apply(this.b.Oc,this.D)};h.prototype.Mi=function(){var a=this.type.qa().Hc(),b,c,e,f,k;b=0;for(e=a.length;b<e;b++){k=a[b];c=0;for(f=this.p.length;c<f;c++)this.D[c]=this.p[c].get(b);-1<this.Fa?(c=0,this.type.L&&(c=k.type.de[this.type.lc]),this.pa.apply(k.N[this.Fa+c],this.D)):this.pa.apply(k,this.D)}return q};fb=h;var y=[],u=-1;f.prototype.ka=function(){var a,b;if(11===this.type)this.Hd=this.b.Vj(this.Hf,this.Cb.parent);else if(13===this.type){a=0;for(b=this.Be.length;a<b;a++)this.Be[a].ka()}this.kc&&
this.kc.ka()};f.prototype.xa=function(){u++;y.length===u&&y.push(new jb);return y[u]};f.prototype.ta=function(){u--};f.prototype.Mn=function(a){this.qd=a||0;a=this.xa();this.kc.get(a);this.ta();return a.data};f.prototype.Nn=function(a){this.qd=a||0;a=this.xa();this.kc.get(a);this.ta();return U(a.data)?a.data:""};f.prototype.Tn=P("object");f.prototype.Kn=P("Fj");f.prototype.Rn=function(a){this.qd=a||0;a=this.xa();this.kc.get(a);this.ta();return a.Ba()?this.b.Ue(a.data):this.b.Hh(a.data)};f.prototype.Sn=
P("U");f.prototype.Qn=P("key");f.prototype.Pn=P("index");f.prototype.On=function(a){var b=this.q.type,c=n,c=b.qa(),e=c.Hc(),c=e.length?e[a%e.length].type:c.ca[a%c.ca.length].type;return this.index+c.Wf[b.lc]};f.prototype.Ln=P("Hd");f.prototype.Jn=P("Qj");f.prototype.Un=function(){var a,b;a=0;for(b=this.Be.length;a<b;a++)this.Wg[a]=this.Be[a].get();return this.Wg};gb=f;k.prototype.ka=function(){this.la=l(this.la)};k.prototype.So=function(a){var b=this.b.Uj();!this.parent||this.df||!b?this.data=a:(this.Qd>=
b.length&&(b.length=this.Qd+1),b[this.Qd]=a)};k.prototype.In=function(){var a=this.b.Uj();return!this.parent||this.df||!a||this.lg?this.data:this.Qd>=a.length||"undefined"===typeof a[this.Qd]?this.Ph:a[this.Qd]};k.prototype.ya=function(){this.parent&&(!this.df&&!this.lg)&&this.So(this.Ph)};Xa=k;w.prototype.ka=function(){this.ig=this.b.vh[this.Yn];this.sheet.dk.add(this.ig);this.la=l(this.la)};w.prototype.ya=function(){this.parent&&this.b.uf(this.b.k);this.ig.Mh||this.ig.ya();this.parent&&this.b.we(this.b.k)};
ib=w;x.prototype.reset=function(a){this.hc=a;this.Bb=this.Xa=0;this.ql.length=0;this.sh=this.je=q};Wa=x})();
(function(){function d(d,g){this.q=d;this.b=d.b;this.type=g[0];this.get=[this.$m,this.Wm,this.jn,this.mn,this.Qm,this.kn,this.dn,this.Tm,this.cn,this.hn,this.Rm,this.gn,this.Um,this.en,this.an,this.bn,this.Xm,this.Ym,this.Sm,this.ln,this.Mj,this.Zm,this.Mj,this.Vm][this.type];var a=n;this.eb=this.p=this.D=this.pa=this.Pg=this.Da=this.first=this.value=n;this.Fa=-1;this.Ic=n;this.ej=-1;this.Hd=this.Hf=this.tm=n;this.vf=q;switch(this.type){case 0:case 1:case 2:this.value=g[1];break;case 3:this.first=
new X(d,g[1]);break;case 18:this.first=new X(d,g[1]);this.Da=new X(d,g[2]);this.Pg=new X(d,g[3]);break;case 19:this.pa=g[1];this.D=[];this.p=[];3===g.length?(a=g[2],this.D.length=a.length+1):this.D.length=1;break;case 20:this.eb=this.b.k[g[1]];this.Fa=-1;this.pa=g[2];this.vf=g[3];this.Ic=g[4]?new X(d,g[4]):n;this.D=[];this.p=[];6===g.length?(a=g[5],this.D.length=a.length+1):this.D.length=1;break;case 21:this.eb=this.b.k[g[1]];this.vf=g[2];this.Ic=g[3]?new X(d,g[3]):n;this.ej=g[4];break;case 22:this.eb=
this.b.k[g[1]];this.tm=this.eb.ag(g[2]);this.Fa=this.eb.Dh(g[2]);this.pa=g[3];this.vf=g[4];this.Ic=g[5]?new X(d,g[5]):n;this.D=[];this.p=[];7===g.length?(a=g[6],this.D.length=a.length+1):this.D.length=1;break;case 23:this.Hf=g[1],this.Hd=n}4<=this.type&&17>=this.type&&(this.first=new X(d,g[1]),this.Da=new X(d,g[2]));if(a){var b,c;b=0;for(c=a.length;b<c;b++)this.p.push(new X(d,a[b]))}}function g(d,g){this.type=d||Y.He;this.data=g||0;this.re=n;this.type==Y.He&&(this.data=Math.floor(this.data))}d.prototype.ka=
function(){23===this.type&&(this.Hd=this.q.b.Vj(this.Hf,this.q.Cb.parent));this.first&&this.first.ka();this.Da&&this.Da.ka();this.Pg&&this.Pg.ka();this.Ic&&this.Ic.ka();if(this.p){var d,g;d=0;for(g=this.p.length;d<g;d++)this.p[d].ka()}};d.prototype.ln=function(d){this.D[0]=d;d=this.q.xa();var g,a;g=0;for(a=this.p.length;g<a;g++)this.p[g].get(d),this.D[g+1]=d.data;this.q.ta();this.pa.apply(this.b.Oc,this.D)};d.prototype.Mj=function(d){var g=this.eb.qa(),a=g.Hc();if(!a.length)if(g.ca.length)a=g.ca;
else{this.vf?d.$b(""):d.W(0);return}this.D[0]=d;d.re=this.eb;d=this.q.xa();var b,g=0;for(b=this.p.length;g<b;g++)this.p[g].get(d),this.D[g+1]=d.data;g=this.q.qd;this.Ic&&(this.Ic.get(d),d.Ba()&&(g=d.data,a=this.eb.d));this.q.ta();g%=a.length;0>g&&(g+=a.length);a=a[g];-1<this.Fa?(d=0,this.eb.L&&(d=a.type.de[this.eb.lc]),this.pa.apply(a.N[this.Fa+d],this.D)):this.pa.apply(a,this.D)};d.prototype.Zm=function(d){var g=this.eb.qa(),a=g.Hc();if(!a.length)if(g.ca.length)a=g.ca;else{this.vf?d.$b(""):d.W(0);
return}g=this.q.qd;if(this.Ic){var b=this.q.xa();this.Ic.get(b);if(b.Ba()){g=b.data;a=this.eb.d;g%=a.length;0>g&&(g+=a.length);a=a[g].Ka[this.ej];U(a)?d.$b(a):d.F(a);this.q.ta();return}this.q.ta()}g%=a.length;0>g&&(g+=a.length);a=a[g];g=0;this.eb.L&&(g=a.type.Wf[this.eb.lc]);a=a.Ka[this.ej+g];U(a)?d.$b(a):d.F(a)};d.prototype.$m=function(d){d.type=Y.He;d.data=this.value};d.prototype.Wm=function(d){d.type=Y.Ge;d.data=this.value};d.prototype.jn=function(d){d.type=Y.ah;d.data=this.value};d.prototype.mn=
function(d){this.first.get(d);d.Ba()&&(d.data=-d.data)};d.prototype.Qm=function(d){this.first.get(d);var g=this.q.xa();this.Da.get(g);d.Ba()&&g.Ba()&&(d.data+=g.data,g.ie()&&d.qe());this.q.ta()};d.prototype.kn=function(d){this.first.get(d);var g=this.q.xa();this.Da.get(g);d.Ba()&&g.Ba()&&(d.data-=g.data,g.ie()&&d.qe());this.q.ta()};d.prototype.dn=function(d){this.first.get(d);var g=this.q.xa();this.Da.get(g);d.Ba()&&g.Ba()&&(d.data*=g.data,g.ie()&&d.qe());this.q.ta()};d.prototype.Tm=function(d){this.first.get(d);
var g=this.q.xa();this.Da.get(g);d.Ba()&&g.Ba()&&(d.data/=g.data,d.qe());this.q.ta()};d.prototype.cn=function(d){this.first.get(d);var g=this.q.xa();this.Da.get(g);d.Ba()&&g.Ba()&&(d.data%=g.data,g.ie()&&d.qe());this.q.ta()};d.prototype.hn=function(d){this.first.get(d);var g=this.q.xa();this.Da.get(g);d.Ba()&&g.Ba()&&(d.data=Math.pow(d.data,g.data),g.ie()&&d.qe());this.q.ta()};d.prototype.Rm=function(d){this.first.get(d);var g=this.q.xa();this.Da.get(g);d.Ba()?g.ng()?d.$b(d.data.toString()+g.data):
d.data&&g.data?d.W(1):d.W(0):d.ng()&&(d.data=g.ng()?d.data+g.data:d.data+(Math.round(1E10*g.data)/1E10).toString());this.q.ta()};d.prototype.gn=function(d){this.first.get(d);var g=this.q.xa();this.Da.get(g);d.Ba()&&g.Ba()&&(d.data||g.data?d.W(1):d.W(0));this.q.ta()};d.prototype.Sm=function(d){this.first.get(d);d.data?this.Da.get(d):this.Pg.get(d)};d.prototype.Um=function(d){this.first.get(d);var g=this.q.xa();this.Da.get(g);d.W(d.data===g.data?1:0);this.q.ta()};d.prototype.en=function(d){this.first.get(d);
var g=this.q.xa();this.Da.get(g);d.W(d.data!==g.data?1:0);this.q.ta()};d.prototype.an=function(d){this.first.get(d);var g=this.q.xa();this.Da.get(g);d.W(d.data<g.data?1:0);this.q.ta()};d.prototype.bn=function(d){this.first.get(d);var g=this.q.xa();this.Da.get(g);d.W(d.data<=g.data?1:0);this.q.ta()};d.prototype.Xm=function(d){this.first.get(d);var g=this.q.xa();this.Da.get(g);d.W(d.data>g.data?1:0);this.q.ta()};d.prototype.Ym=function(d){this.first.get(d);var g=this.q.xa();this.Da.get(g);d.W(d.data>=
g.data?1:0);this.q.ta()};d.prototype.Vm=function(d){var g=this.Hd.In();ba(g)?d.F(g):d.$b(g)};X=d;g.prototype.ie=function(){return this.type===Y.Ge};g.prototype.Ba=function(){return this.type===Y.He||this.type===Y.Ge};g.prototype.ng=function(){return this.type===Y.ah};g.prototype.qe=function(){this.ie()||(this.ng()&&(this.data=parseFloat(this.data)),this.type=Y.Ge)};g.prototype.W=function(d){this.type=Y.He;this.data=Math.floor(d)};g.prototype.F=function(d){this.type=Y.Ge;this.data=d};g.prototype.$b=
function(d){this.type=Y.ah;this.data=d};jb=g;Y={He:0,Ge:1,ah:2}})();function Z(d){this.b=d;this.Ab=[]}
Z.prototype.Kb=function(){var d={},g,l,p,a,b,c,e,h;d.waits=[];var f=d.waits,k;g=0;for(l=this.Ab.length;g<l;g++){c=this.Ab[g];k={t:c.time,ev:c.Se.G,sm:[],sols:{}};c.Se.Pb[c.Bb]&&(k.act=c.Se.Pb[c.Bb].G);p=0;for(a=c.la.length;p<a;p++)k.sm.push(c.la[p].G);for(b in c.ib)if(c.ib.hasOwnProperty(b)){e=this.b.k[parseInt(b,10)];h={sa:c.ib[b].gl,insts:[]};p=0;for(a=c.ib[b].Kd.length;p<a;p++)h.insts.push(c.ib[b].Kd[p].uid);k.sols[e.G.toString()]=h}f.push(k)}return d};
Z.prototype.nc=function(d){d=d.waits;var g,l,p,a,b,c,e,h,f,k,w;g=this.Ab.length=0;for(l=d.length;g<l;g++)if(c=d[g],h=this.b.zj[c.ev.toString()]){f=-1;p=0;for(a=h.Pb.length;p<a;p++)if(h.Pb[p].G===c.act){f=p;break}if(-1!==f){e={ib:{},la:[],Jj:q};e.time=c.t;e.Se=h;e.Bb=f;p=0;for(a=c.sm.length;p<a;p++)(h=this.b.dg(c.sm[p]))&&e.la.push(h);for(b in c.sols)if(c.sols.hasOwnProperty(b)&&(h=this.b.dg(parseInt(b,10)))){f=c.sols[b];k={gl:f.sa,Kd:[]};p=0;for(a=f.insts.length;p<a;p++)(w=this.b.Ih(f.insts[p]))&&
k.Kd.push(w);e.ib[h.index.toString()]=k}this.Ab.push(e)}}};
(function(){function d(){}function g(){}var l=Z.prototype;d.prototype.Tl=S(m);d.prototype.Sl=S(m);d.prototype.Jl=function(){var a=this.b.Fb();return a.sh?q:!a.je};d.prototype.jj=S(m);d.prototype.Nl=S(m);d.prototype.$g=S(m);d.prototype.Ul=S(m);d.prototype.Zg=S(m);l.j=new d;var p=[],a=[];l.cc=new (L());g.prototype["int"]=function(a,c){U(c)?(a.W(parseInt(c,10)),isNaN(a.data)&&(a.data=0)):a.W(c)};g.prototype["float"]=function(a,c){U(c)?(a.F(parseFloat(c)),isNaN(a.data)&&(a.data=0)):a.F(c)};g.prototype.sqrt=
function(a,c){a.F(Math.sqrt(c))};g.prototype.round=function(a,c){a.W(Math.round(c))};g.prototype.floor=function(a,c){a.W(Math.floor(c))};g.prototype.ceil=function(a,c){a.W(Math.ceil(c))};g.prototype.sin=function(a,c){a.F(Math.sin(V(c)))};g.prototype.cos=function(a,c){a.F(Math.cos(V(c)))};g.prototype.tan=function(a,c){a.F(Math.tan(V(c)))};g.prototype.acos=function(a,c){a.F(sa(Math.acos(c)))};g.prototype.exp=function(a,c){a.F(Math.exp(c))};g.prototype.max=function(a){var c=arguments[1],d,g;d=2;for(g=
arguments.length;d<g;d++)c<arguments[d]&&(c=arguments[d]);a.F(c)};g.prototype.min=function(a){var c=arguments[1],d,g;d=2;for(g=arguments.length;d<g;d++)c>arguments[d]&&(c=arguments[d]);a.F(c)};g.prototype.Fd=function(a){a.F(this.b.Fd)};g.prototype.Vd=function(a){a.F(this.b.Vd)};g.prototype.time=function(a){a.F(this.b.Sb.xb)};g.prototype.Pc=function(a){a.W(this.b.Pc)};g.prototype.Bg=function(a){a.W(this.b.Bg)};g.prototype.zh=function(a){a.W(this.b.zh)};g.prototype.i=function(a,c,d,g,f){a.F(sa(ya(c,
d,g,f)))};g.prototype.left=function(a,c,d){a.$b(U(c)?c.substr(0,d):"")};g.prototype.right=function(a,c,d){a.$b(U(c)?c.substr(c.length-d):"")};g.prototype.replace=function(a,c,d,g){U(c)&&U(d)&&U(g)?a.$b(c.replace(RegExp(Ma(d),"gi"),g)):a.$b(U(c)?c:"")};g.prototype.lh=function(a){a.F(this.b.lh/1E3)};g.prototype.le=function(a){a.F(this.b.le)};l.Dc=new g;l.Ho=function(){var b,c,d,g,f,k,l=this.b.Fb();b=0;for(d=this.Ab.length;b<d;b++)if(g=this.Ab[b],!(g.time>this.b.Sb.xb)){l.hc=g.Se;l.Bb=g.Bb;l.Xa=0;for(c in g.ib)g.ib.hasOwnProperty(c)&&
(f=this.b.k[parseInt(c,10)].qa(),k=g.ib[c],f.za=k.gl,qa(f.d,k.Kd),f=k,f.Kd.length=0,a.push(f));g.Se.Fo();this.b.kh(g.la);g.Jj=m}c=b=0;for(d=this.Ab.length;b<d;b++)g=this.Ab[b],this.Ab[c]=g,g.Jj?(Ia(g.ib),g.la.length=0,p.push(g)):c++;this.Ab.length=c}})();
function tb(d){var g=d[0].prototype,l=d[1],p=d[3],a=d[4],b=d[5],c=d[6],e=d[7];d=d[8];g.j||(g.j={});g.cc||(g.cc={});g.Dc||(g.Dc={});var h=g.j,f=g.cc,g=g.Dc;p&&(h.rp=function(a,b){return Sb(this.x,a,b)},h.sp=function(a,b){return Sb(this.y,a,b)},h.Bp=function(){var a=this.e;this.Ob();var b=this.K;return!(b.right<a.kb||b.bottom<a.mb||b.left>a.lb||b.top>a.jb)},h.Cp=function(){this.Ob();var a=this.K,b=this.b.S;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},h.Op=function(a,b,c){var d=this.qa(),
e=d.Hc();if(!e.length)return q;var f=e[0],g=f,h=Da(f.x,f.y,b,c),l,p,E;l=1;for(p=e.length;l<p;l++)if(f=e[l],E=Da(f.x,f.y,b,c),0===a&&E<h||1===a&&E>h)h=E,g=f;d.Vk(g);return m},f.hq=function(a){this.x!==a&&(this.x=a,this.Ga())},f.iq=function(a){this.y!==a&&(this.y=a,this.Ga())},f.bq=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.Ga()},f.cq=function(a,b){var c=a.En(this);if(c){var d;c.Gh?(d=c.Gh(b,m),c=c.Gh(b,q)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.Ga()}},f.Hp=
function(a){0!==a&&(this.x+=Math.cos(this.i)*a,this.y+=Math.sin(this.i)*a,this.Ga())},f.Gp=function(a,b){0!==b&&(this.x+=Math.cos(V(a))*b,this.y+=Math.sin(V(a))*b,this.Ga())},g.jm=function(a){a.F(this.x)},g.km=function(a){a.F(this.y)},g.Fd=function(a){a.F(this.b.yn(this))});a&&(h.qp=function(a,b){return Sb(this.width,a,b)},h.np=function(a,b){return Sb(this.height,a,b)},f.fm=function(a){this.width!==a&&(this.width=a,this.Ga())},f.Zp=function(a){this.height!==a&&(this.height=a,this.Ga())},f.dq=function(a,
b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.Ga()},g.mq=function(a){a.F(this.width)},g.vp=function(a){a.F(this.height)},g.kp=function(a){this.Ob();a.F(this.K.left)},g.mp=function(a){this.Ob();a.F(this.K.top)},g.lp=function(a){this.Ob();a.F(this.K.right)},g.jp=function(a){this.Ob();a.F(this.K.bottom)});b&&(h.ip=function(a,b){return Aa(this.i,V(b))<=V(a)},h.zp=function(a){return Ca(this.i,V(a))},h.xp=function(a,b){var c=xa(a),d=xa(b),e=ua(this.i);return Ca(d,c)?Ca(e,c)&&!Ca(e,
d):!(!Ca(e,c)&&Ca(e,d))},f.Vp=function(a){a=V(ta(a));!isNaN(a)&&this.i!==a&&(this.i=a,this.Ga())},f.Rp=function(a){0!==a&&!isNaN(a)&&(this.i+=V(a),this.i=ua(this.i),this.Ga())},f.Sp=function(a){0!==a&&!isNaN(a)&&(this.i-=V(a),this.i=ua(this.i),this.Ga())},f.Tp=function(a,b){var c=Ba(this.i,V(b),V(a));!isNaN(c)&&this.i!==c&&(this.i=c,this.Ga())},f.Up=function(a,b,c){a=Ba(this.i,Math.atan2(c-this.y,b-this.x),V(a));!isNaN(a)&&this.i!==a&&(this.i=a,this.Ga())},f.fq=function(a,b){var c=Math.atan2(b-this.y,
a-this.x);!isNaN(c)&&this.i!==c&&(this.i=c,this.Ga())},g.hp=function(a){a.F(wa(this.i))});l||(h.op=function(a,b,c){return Sb(this.Ka[a],b,c)},h.yp=function(a){return this.Ka[a]},h.Np=function(a){return this.uid===a},h.Ol=S(m),h.Pl=S(m),f.$p=function(a,b){var c=this.Ka;ba(c[a])?c[a]=ba(b)?b:parseFloat(b):U(c[a])&&(c[a]=U(b)?b:b.toString())},f.gp=function(a,b){var c=this.Ka;ba(c[a])?c[a]=ba(b)?c[a]+b:c[a]+parseFloat(b):U(c[a])&&(c[a]=U(b)?c[a]+b:c[a]+b.toString())},f.jq=function(a,b){var c=this.Ka;
ba(c[a])&&(c[a]=ba(b)?c[a]-b:c[a]-parseFloat(b))},f.Wp=function(a,b){this.Ka[a]=b?1:0},f.kq=function(a){this.Ka[a]=1-this.Ka[a]},f.up=function(){this.b.yd(this)},g.tp=function(a){var b=a.re.d.length,c,d,e;c=0;for(d=this.b.gc.length;c<d;c++)e=this.b.gc[c],a.re.L?0<=e.type.X.indexOf(a.re)&&b++:e.type===a.re&&b++;a.W(b)},g.Qp=function(a){a.W(a.re.qa().Hc().length)},g.lq=function(a){a.W(this.uid)},g.wp=function(a){a.W(this.We())});c&&(h.Dp=P("visible"),f.gq=function(a){!a!==!this.visible&&(this.visible=
a,this.b.R=m)},h.pp=function(a,b){return Sb(Qa(100*this.opacity),a,b)},f.aq=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.R=m)},g.Opacity=function(a){a.F(Qa(100*this.opacity))});e&&(h.Ap=function(a){return!a?q:this.e===a},h.Pp=function(a){var b=this.qa(),c=b.Hc();if(!c.length)return q;var d=c[0],e=d,f,g;f=1;for(g=c.length;f<g;f++)if(d=c[f],0===a){if(d.e.index>e.e.index||d.e.index===e.e.index&&d.ub()>e.ub())e=d}else if(d.e.index<e.e.index||d.e.index===e.e.index&&d.ub()<
e.ub())e=d;b.Vk(e);return m},f.Kp=function(){var a=this.ub();a!==this.e.d.length-1&&(pa(this.e.d,a),this.e.d.push(this),this.b.R=m,this.e.nb=m)},f.Ip=function(){var a=this.ub();0!==a&&(pa(this.e.d,a),this.e.d.unshift(this),this.b.R=m,this.e.nb=m)},f.Jp=function(a){a&&a!=this.e&&(pa(this.e.d,this.ub()),this.e.nb=m,this.e=a,this.Xd=a.d.length,a.d.push(this),this.b.R=m)},f.oq=function(a,b){var c=0===a;if(b){var d=b.zn(this);if(d&&d.uid!==this.uid){this.e.index!==d.e.index&&(pa(this.e.d,this.ub()),this.e.nb=
m,this.e=d.e,this.Xd=d.e.d.length,d.e.d.push(this));var e=this.ub(),d=d.ub();pa(this.e.d,e);e<d&&d--;c&&d++;d===this.e.d.length?this.e.d.push(this):this.e.d.splice(d,0,this);this.e.nb=m;this.b.R=m}}},g.Fp=function(a){a.W(this.e.Ik)},g.Ep=function(a){a.$b(this.e.name)},g.nq=function(a){a.W(this.ub())});d&&(f.Xp=function(a,b){if(this.b.A){var c=this.type.Fh(b);if(!(0>c)){var d=1===a;this.Uc[c]!==d&&(this.Uc[c]=d,this.Rc(),this.b.R=m)}}},f.Yp=function(a,b,c){if(this.b.A){var d=this.type.Fh(a);0>d||(a=
this.type.C[d],d=this.ba[d],b=Math.floor(b),0>b||b>=d.length||(1===this.b.A.Hn(a.Ha,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.vc&&(this.b.R=m))))}})}function Mb(){this.eh=m;this.b.R=m;var d,g;d=0;for(g=this.Lf.length;d<g;d++)this.Lf[d](this)}function Nb(d){d&&this.Lf.push(d)}
function Pb(){if(this.eh){this.K.set(this.x,this.y,this.x+this.width,this.y+this.height);this.K.offset(-this.$a*this.width,-this.ab*this.height);this.i?(this.K.offset(-this.x,-this.y),this.ec.ll(this.K,this.i),this.ec.offset(this.x,this.y),this.ec.Aj(this.K)):this.ec.Qi(this.K);var d=0;this.K.left>this.K.right&&(d=this.K.left,this.K.left=this.K.right,this.K.right=d);this.K.top>this.K.bottom&&(d=this.K.top,this.K.top=this.K.bottom,this.K.bottom=d);this.eh=q}}
function Ob(d,g){return!this.K.Xc(d,g)||!this.ec.Xc(d,g)?q:this.fc&&!this.fc.fo()?(this.fc.vm(this.width,this.height,this.i),this.fc.Xc(d-this.x,g-this.y)):m}function Kb(){this.type.Tg();return this.Ye}function Qb(){this.e.$o();return this.Xd}function Rb(){this.M.length=0;var d,g;d=0;for(g=this.Uc.length;d<g;d++)this.Uc[d]&&this.M.push(this.type.C[d]);this.Hl=!!this.M.length}function Lb(){return"Inst"+this.dl}
function vb(d){if(d&&d.Rb&&d.type!=this){var g,l,p;g=0;for(l=d.siblings.length;g<l;g++)if(p=d.siblings[g],p.type==this)return p}d=this.qa().Hc();return d.length?d[0]:n}function wb(d){var g=this.qa().Hc();return g.length?g[d.We()%g.length]:n}function ub(){if(this.td&&!this.L){var d,g;d=0;for(g=this.d.length;d<g;d++)this.d[d].Ye=d;this.td=q}}function xb(){return this.rd[this.Bc]}function yb(){this.Bc++;this.Bc===this.rd.length?this.rd.push(new Ta(this)):this.rd[this.Bc].za=m}
function zb(){this.Bc++;this.Bc===this.rd.length&&this.rd.push(new Ta(this));var d=this.rd[this.Bc],g=this.rd[this.Bc-1];g.za?d.za=m:(d.za=q,qa(d.d,g.d))}function Ab(){this.Bc--}function Bb(d){var g,l,p,a,b,c=0;if(!this.L){g=0;for(l=this.X.length;g<l;g++){b=this.X[g];p=0;for(a=b.ma.length;p<a;p++){if(d===b.ma[p].name)return this.ea.pk=c,b.ma[p];c++}}}g=0;for(l=this.ma.length;g<l;g++){if(d===this.ma[g].name)return this.ea.pk=c,this.ma[g];c++}return n}
function Cb(d){return this.ag(d)?this.ea.pk:-1}function Hb(d){var g,l;g=0;for(l=this.C.length;g<l;g++)if(this.C[g].name===d)return g;return-1}
function Ib(){if(this.Rb&&!this.L){var d,g,l,p,a,b,c;this.Tg();b=this.qa();var e=b.za,h=(d=this.b.Fb())&&d.hc&&d.hc.pc;d=0;for(g=this.Ta.length;d<g;d++)if(a=this.Ta[d],a!==this&&(a.Tg(),c=a.qa(),c.za=e,!e)){c.d.length=b.d.length;l=0;for(p=b.d.length;l<p;l++)c.d[l]=a.d[b.d[l].Ye];if(h){c.ca.length=b.ca.length;l=0;for(p=b.ca.length;l<p;l++)c.ca[l]=a.d[b.ca[l].Ye]}}}}function Jb(){return"Type"+this.G}
function Sb(d,g,l){if("undefined"===typeof d||"undefined"===typeof l)return q;switch(g){case 0:return d===l;case 1:return d!==l;case 2:return d<l;case 3:return d<=l;case 4:return d>l;case 5:return d>=l;default:return q}}var rb={};function Tb(d){this.b=d}
(function(){function d(a){0>a&&(a=0);1<a&&(a=1);return 20*(Math.log(a)/Math.log(10))}function g(a){a=a.toLowerCase();return R.hasOwnProperty(a)&&R[a].length?R[a][0].tb():A.destination}function l(){return A.createGain?A.createGain():A.createGainNode()}function p(a){return A.createDelay?A.createDelay(a):A.createDelayNode(a)}function a(a){a.start?a.start(0):a.noteOn(0)}function b(a,b,c){a.start?a.start(0,b):a.noteGrainOn(0,b,c-b)}function c(a){a.stop?a.stop(0):a.noteOff(0)}function e(a,b,c,d,e,f){this.type=
"filter";this.Wb=[a,b,c,d,e,f];this.H=l();this.B=l();this.B.gain.value=f;this.u=l();this.u.gain.value=1-f;this.na=A.createBiquadFilter();this.na.type="number"===typeof this.na.type?a:$b[a];this.na.frequency.value=b;this.na.detune&&(this.na.detune.value=c);this.na.Q.value=d;this.na.gain.value=e;this.H.connect(this.na);this.H.connect(this.u);this.na.connect(this.B)}function h(a,b,c){this.type="delay";this.Wb=[a,b,c];this.H=l();this.B=l();this.B.gain.value=c;this.u=l();this.u.gain.value=1-c;this.lf=
l();this.Eb=p(a);this.Eb.delayTime.value=a;this.Rf=l();this.Rf.gain.value=b;this.H.connect(this.lf);this.H.connect(this.u);this.lf.connect(this.B);this.lf.connect(this.Eb);this.Eb.connect(this.Rf);this.Rf.connect(this.lf)}function f(a,b,c,d){this.type="convolve";this.Wb=[b,c,d];this.H=l();this.B=l();this.B.gain.value=c;this.u=l();this.u.gain.value=1-c;this.Cd=A.createConvolver();a&&(this.Cd.normalize=b,this.Cd.buffer=a);this.H.connect(this.Cd);this.H.connect(this.u);this.Cd.connect(this.B)}function k(b,
c,d,e,f){this.type="flanger";this.Wb=[b,c,d,e,f];this.H=l();this.u=l();this.u.gain.value=1-f/2;this.B=l();this.B.gain.value=f/2;this.Xf=l();this.Xf.gain.value=e;this.Eb=p(b+c);this.Eb.delayTime.value=b;this.Ca=A.createOscillator();this.Ca.frequency.value=d;this.hb=l();this.hb.gain.value=c;this.H.connect(this.Eb);this.H.connect(this.u);this.Eb.connect(this.B);this.Eb.connect(this.Xf);this.Xf.connect(this.Eb);this.Ca.connect(this.hb);this.hb.connect(this.Eb.delayTime);a(this.Ca)}function w(b,c,d,e,
f,k){this.type="phaser";this.Wb=[b,c,d,e,f,k];this.H=l();this.u=l();this.u.gain.value=1-k/2;this.B=l();this.B.gain.value=k/2;this.na=A.createBiquadFilter();this.na.type="number"===typeof this.na.type?7:"allpass";this.na.frequency.value=b;this.na.detune&&(this.na.detune.value=c);this.na.Q.value=d;this.Ca=A.createOscillator();this.Ca.frequency.value=f;this.hb=l();this.hb.gain.value=e;this.H.connect(this.na);this.H.connect(this.u);this.na.connect(this.B);this.Ca.connect(this.hb);this.hb.connect(this.na.frequency);
a(this.Ca)}function x(a){this.type="gain";this.Wb=[a];this.J=l();this.J.gain.value=a}function s(b,c){this.type="tremolo";this.Wb=[b,c];this.J=l();this.J.gain.value=1-c/2;this.Ca=A.createOscillator();this.Ca.frequency.value=b;this.hb=l();this.hb.gain.value=c/2;this.Ca.connect(this.hb);this.hb.connect(this.J.gain);a(this.Ca)}function y(b,c){this.type="ringmod";this.Wb=[b,c];this.H=l();this.B=l();this.B.gain.value=c;this.u=l();this.u.gain.value=1-c;this.wf=l();this.wf.gain.value=0;this.Ca=A.createOscillator();
this.Ca.frequency.value=b;this.Ca.connect(this.wf.gain);a(this.Ca);this.H.connect(this.wf);this.H.connect(this.u);this.wf.connect(this.B)}function u(a,b,c,d,e){this.type="distortion";this.Wb=[a,b,c,d,e];this.H=l();this.Hg=l();this.Gg=l();this.Qo(c,Math.pow(10,d/20));this.B=l();this.B.gain.value=e;this.u=l();this.u.gain.value=1-e;this.Xg=A.createWaveShaper();this.Pf=new Float32Array(65536);this.tn(a,b);this.Xg.Pf=this.Pf;this.H.connect(this.Hg);this.H.connect(this.u);this.Hg.connect(this.Xg);this.Xg.connect(this.Gg);
this.Gg.connect(this.B)}function r(a,b,c,d,e){this.type="compressor";this.Wb=[a,b,c,d,e];this.J=A.createDynamicsCompressor();this.J.threshold.value=a;this.J.knee.value=b;this.J.ratio.value=c;this.J.attack.value=d;this.J.release.value=e}function v(a,b){this.type="analyser";this.Wb=[a,b];this.J=A.createAnalyser();this.J.fftSize=a;this.J.smoothingTimeConstant=b;this.rn=new Float32Array(this.J.frequencyBinCount);this.nl=new Uint8Array(a);this.Go=this.rf=0}function D(){this.O=n;this.xg=0;this.sd=[];this.li=
this.sg=this.rg=0}function I(a,b){this.src=a;this.V=M;this.cf=b;this.vj=q;var c=this;this.Ck=this.ti=n;this.ve=[];this.Lg=0;this.Dg=q;M===C&&(b&&!z.Md)&&(this.V=F,this.ti=l());this.aa=n;var d;switch(this.V){case F:b&&z.bd&&CocoonJS.App.markAsMusic(a);this.aa=new Audio;M===C&&this.aa.addEventListener("canplay",function(){c.Ck=A.createMediaElementSource(c.aa);c.Ck.connect(c.ti)});this.aa.autoplay=q;this.aa.Eq="auto";this.aa.src=a;break;case C:d=new XMLHttpRequest;d.open("GET",a,m);d.responseType="arraybuffer";
d.onload=function(){if(A.decodeAudioData)A.decodeAudioData(d.response,function(a){c.aa=a;var b,d,e;if(aa(c.Eg))aa(c.Of)||(b=c.Of.Cd,b.normalize=c.Hk,b.buffer=a);else if(c.ve.length){b=0;for(d=c.ve.length;b<d;b++){a=c.ve[b];e=new E(c,a.wl);e.jl(m);if("undefined"!==typeof a.Jk&&(a.O=z.Ih(a.Jk),!a.O))continue;a.O?(e.Oi(a.O.x,a.O.y,sa(a.O.i),a.Nh,a.ni,a.qi),e.yf(a.O)):e.Oi(a.x,a.y,a.lm,a.Nh,a.ni,a.qi);e.play(c.ii,c.gj,c.Lg);c.Dg&&e.pause();O.push(e)}c.ve.length=0}else e=new E(c,c.Eg),e.play(c.ii,c.gj,
c.Lg),c.Dg&&e.pause(),O.push(e)});else if(c.aa=A.createBuffer(d.response,q),aa(c.Eg)){if(!aa(c.Of)){var a=c.Of.Cd;a.normalize=c.Hk;a.buffer=c.aa}}else a=new E(c,c.Eg),a.play(c.ii,c.gj,c.Lg),c.Dg&&a.pause(),O.push(a)};d.send();break;case H:this.aa=m;break;case W:this.aa=m}}function E(a,b){var c=this;this.ud=b;this.ac=this.ad=m;this.src=a.src;this.buffer=a;this.V=M;this.cf=a.cf;this.playbackRate=1;this.wi=m;this.dd=this.Mc=q;this.Zb=0;this.Xh=this.Wh=this.Lc=q;this.mf=this.volume=1;this.startTime=z.Sb.xb;
this.ga=this.Ja=n;this.qc=q;this.fa=n;this.Sk=this.Rk=this.Qk=this.Pk=this.Uk=this.Tk=0;this.g=n;var d=q;switch(this.V){case F:this.cf?(this.g=a.aa,d=!a.vj,a.vj=m):(this.g=new Audio,this.g.autoplay=q,this.g.src=a.aa.src,d=m);d&&this.g.addEventListener("ended",function(){G=c.ud;c.ac=m;z.trigger(Tb.prototype.j.Yg,K)});break;case C:this.Ja=l();this.Ja.connect(g(b));this.buffer.V===C?a.aa&&(this.g=A.createBufferSource(),this.g.buffer=a.aa,this.g.connect(this.Ja)):(this.g=this.buffer.aa,this.buffer.ti.connect(this.Ja));
break;case H:this.g=new window.Media(N+this.src,n,n,function(a){a===window.Media.MEDIA_STOPPED&&(c.wi=m,c.ac=m,G=c.ud,z.trigger(Tb.prototype.j.Yg,K))});break;case W:this.g=m}}function Q(a,b){R.hasOwnProperty(a)?R[a].push(b):R[a]=[b];var c,d,e,f,k=A.destination;if(R.hasOwnProperty(a)&&(e=R[a],e.length)){k=e[0].tb();c=0;for(d=e.length;c<d;c++)f=e[c],c+1===d?f.Db(A.destination):f.Db(e[c+1].tb())}za.length=0;if(a.length){c=0;for(d=O.length;c<d;c++)e=O[c],a.toLowerCase()===e.ud.toLowerCase()&&za.push(e)}else ab&&
!ab.Xe()&&(za.length=1,za[0]=ab);c=0;for(d=za.length;c<d;c++)za[c].Do(k);va&&bb===a&&(va.disconnect(),va.connect(k))}function J(){}var t=Tb.prototype;t.Ra=function(a){this.ja=a;this.b=a.b};t.Ra.prototype.Y=L();var z=n,K=n,G="",N="",F=0,C=1,H=2,W=3,M=F,A=n,fa=[],O=[],ab=n,Ra=0,Fa=q,na=1,cb=1,db=1,Db=10,Eb=1E4,Fb=1,va=n,bb="",R={},$b="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");e.prototype.Db=function(a){this.B.disconnect();this.B.connect(a);this.u.disconnect();this.u.connect(a)};
e.prototype.remove=function(){this.H.disconnect();this.na.disconnect();this.B.disconnect();this.u.disconnect()};e.prototype.tb=P("H");h.prototype.Db=function(a){this.B.disconnect();this.B.connect(a);this.u.disconnect();this.u.connect(a)};h.prototype.remove=function(){this.H.disconnect();this.lf.disconnect();this.Eb.disconnect();this.Rf.disconnect();this.B.disconnect();this.u.disconnect()};h.prototype.tb=P("H");f.prototype.Db=function(a){this.B.disconnect();this.B.connect(a);this.u.disconnect();this.u.connect(a)};
f.prototype.remove=function(){this.H.disconnect();this.Cd.disconnect();this.B.disconnect();this.u.disconnect()};f.prototype.tb=P("H");k.prototype.Db=function(a){this.u.disconnect();this.u.connect(a);this.B.disconnect();this.B.connect(a)};k.prototype.remove=function(){this.H.disconnect();this.Eb.disconnect();this.Ca.disconnect();this.hb.disconnect();this.u.disconnect();this.B.disconnect();this.Xf.disconnect()};k.prototype.tb=P("H");w.prototype.Db=function(a){this.u.disconnect();this.u.connect(a);this.B.disconnect();
this.B.connect(a)};w.prototype.remove=function(){this.H.disconnect();this.na.disconnect();this.Ca.disconnect();this.hb.disconnect();this.u.disconnect();this.B.disconnect()};w.prototype.tb=P("H");x.prototype.Db=function(a){this.J.disconnect();this.J.connect(a)};x.prototype.remove=function(){this.J.disconnect()};x.prototype.tb=P("J");s.prototype.Db=function(a){this.J.disconnect();this.J.connect(a)};s.prototype.remove=function(){this.Ca.disconnect();this.hb.disconnect();this.J.disconnect()};s.prototype.tb=
P("J");y.prototype.Db=function(a){this.B.disconnect();this.B.connect(a);this.u.disconnect();this.u.connect(a)};y.prototype.remove=function(){this.Ca.disconnect();this.wf.disconnect();this.H.disconnect();this.B.disconnect();this.u.disconnect()};y.prototype.tb=P("H");u.prototype.Qo=function(a,b){0.01>a&&(a=0.01);this.Hg.gain.value=a;this.Gg.gain.value=Math.pow(1/a,0.6)*b};u.prototype.shape=function(a,b,c){var d=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+d*(1-Math.exp(-(1/d)*(a-b)));return b*c};u.prototype.tn=
function(a,b){for(var c=Math.pow(10,a/20),d=Math.pow(10,b/20),e=0,f=0;32768>f;++f)e=f/32768,e=this.shape(e,c,d),this.Pf[32768+f]=e,this.Pf[32768-f-1]=-e};u.prototype.Db=function(a){this.B.disconnect();this.B.connect(a);this.u.disconnect();this.u.connect(a)};u.prototype.remove=function(){this.H.disconnect();this.Hg.disconnect();this.Xg.disconnect();this.Gg.disconnect();this.B.disconnect();this.u.disconnect()};u.prototype.tb=P("H");r.prototype.Db=function(a){this.J.disconnect();this.J.connect(a)};r.prototype.remove=
function(){this.J.disconnect()};r.prototype.tb=P("J");v.prototype.Qa=function(){this.J.getFloatFrequencyData(this.rn);this.J.getByteTimeDomainData(this.nl);for(var a=this.J.fftSize,b=0,c=this.rf=0,e=0;b<a;b++)e=(this.nl[b]-128)/128,0>e&&(e=-e),this.rf<e&&(this.rf=e),c+=e*e;this.rf=d(this.rf);this.Go=d(Math.sqrt(c/a))};v.prototype.Db=function(a){this.J.disconnect();this.J.connect(a)};v.prototype.remove=function(){this.J.disconnect()};v.prototype.tb=P("J");D.prototype.yf=function(a){if(this.O=a)this.rg=
this.O.x,this.sg=this.O.y;this.sd.length=0};D.prototype.hg=function(){return!!this.O};D.prototype.Qa=function(a){this.O&&(this.li=ya(this.rg,this.sg,this.O.x,this.O.y),a=Da(this.rg,this.sg,this.O.x,this.O.y)/a,4>this.sd.length||this.sd.shift(),this.sd.push(a),this.rg=this.O.x,this.sg=this.O.y)};D.prototype.Yj=function(){if(!this.sd.length)return 0;var a,b,c=0;a=0;for(b=this.sd.length;a<b;a++)c+=this.sd[a];return c/this.sd.length};D.prototype.Zj=function(){return Math.cos(this.li)*this.Yj()};D.prototype.$j=
function(){return Math.sin(this.li)*this.Yj()};var Gb=q;E.prototype.Xe=function(){switch(this.V){case F:return this.g.ended;case C:return this.buffer.V===C?!this.ad&&!this.ac&&this.g.loop||this.dd?q:z.Sb.xb-this.startTime>this.buffer.aa.duration:this.g.ended;case H:return this.wi;case W:m}return m};E.prototype.wm=function(){return this.ad||this.ac?m:this.Xe()};E.prototype.jl=function(a){M===C&&(!this.qc&&a?(this.ga||(this.ga=A.createPanner(),this.ga.panningModel="number"===typeof this.ga.panningModel?
cb:["equalpower","HRTF","soundfield"][cb],this.ga.distanceModel="number"===typeof this.ga.distanceModel?db:["linear","inverse","exponential"][db],this.ga.refDistance=Db,this.ga.maxDistance=Eb,this.ga.rolloffFactor=Fb),this.Ja.disconnect(),this.Ja.connect(this.ga),this.ga.connect(g(this.ud)),this.qc=m):this.qc&&!a&&(this.ga.disconnect(),this.Ja.disconnect(),this.Ja.connect(g(this.ud)),this.qc=q))};E.prototype.Oi=function(a,b,c,d,e,f){this.qc&&M===C&&(this.ga.setPosition(a,b,0),this.ga.setOrientation(Math.cos(V(c)),
Math.sin(V(c)),0),this.ga.coneInnerAngle=d,this.ga.coneOuterAngle=e,this.ga.coneOuterGain=f,this.Tk=a,this.Uk=b,this.Pk=c,this.Qk=d,this.Rk=e,this.Sk=f)};E.prototype.yf=function(a){this.qc&&M===C&&(this.fa||(this.fa=new D),this.fa.yf(a))};E.prototype.Qa=function(a){if(this.qc&&!(M!==C||!this.fa||!this.fa.hg()||!this.he()))this.fa.Qa(a),this.ga.setPosition(this.fa.O.x,this.fa.O.y,0),a=0,"undefined"!==typeof this.fa.O.i&&(a=this.fa.O.i,this.ga.setOrientation(Math.cos(a),Math.sin(a),0)),this.ga.setVelocity(this.fa.Zj(),
this.fa.$j(),0)};E.prototype.play=function(c,d,e){var f=this.g;this.Lc=c;this.volume=d;e=e||0;switch(this.V){case F:1!==f.playbackRate&&(f.playbackRate=1);f.volume!==d*na&&(f.volume=d*na);f.loop!==c&&(f.loop=c);f.muted&&(f.muted=q);if(f.currentTime!==e)try{f.currentTime=e}catch(k){}this.g.play();break;case C:this.muted=q;this.mf=1;if(this.buffer.V===C)this.ad||(this.g=A.createBufferSource(),this.g.buffer=this.buffer.aa,this.g.connect(this.Ja)),this.g.loop=c,this.Ja.gain.value=d*na,0===e?a(this.g):
b(this.g,e,this.ee());else{1!==f.playbackRate&&(f.playbackRate=1);f.loop!==c&&(f.loop=c);this.Ja.gain.value=d*na;if(f.currentTime!==e)try{f.currentTime=e}catch(g){}f.play()}break;case H:(!this.ad&&this.ac||0!==e)&&f.seekTo(e);f.play();this.wi=q;break;case W:z.Hb?AppMobi.context.playSound(this.src):AppMobi.player.playSound(this.src)}this.playbackRate=1;this.startTime=z.Sb.xb-e;this.dd=this.ac=this.ad=q};E.prototype.stop=function(){switch(this.V){case F:this.g.paused||this.g.pause();break;case C:this.buffer.V===
C?c(this.g):this.g.paused||this.g.pause();break;case H:this.g.stop()}this.ac=m;this.dd=q};E.prototype.pause=function(){if(!this.ad&&!this.ac&&!this.Xe()&&!this.dd){switch(this.V){case F:this.g.paused||this.g.pause();break;case C:this.buffer.V===C?(this.Zb=this.Jh(),this.Lc&&(this.Zb%=this.ee()),c(this.g)):this.g.paused||this.g.pause();break;case H:this.g.pause()}this.dd=m}};E.prototype.Do=function(a){this.V===C&&(this.qc?(this.ga.disconnect(),this.ga.connect(a)):(this.Ja.disconnect(),this.Ja.connect(a)))};
E.prototype.ee=function(){switch(this.V){case F:if("undefined"!==typeof this.g.duration)return this.g.duration;break;case C:return this.buffer.aa.duration;case H:return this.g.getDuration()}return 0};E.prototype.Jh=function(){var a=this.ee(),b=0;switch(this.V){case F:"undefined"!==typeof this.g.currentTime&&(b=this.g.currentTime);break;case C:if(this.buffer.V===C){if(this.dd)return this.Zb;b=z.Sb.xb-this.startTime}else"undefined"!==typeof this.g.currentTime&&(b=this.g.currentTime)}!this.Lc&&b>a&&
(b=a);return b};E.prototype.he=function(){return!this.dd&&!this.ad&&!this.ac&&!this.Xe()};E.prototype.Zo=function(){var a=this.volume*na;switch(this.V){case F:this.g.volume&&this.g.volume!==a&&(this.g.volume=a);break;case C:this.Ja.gain.value=a*this.mf}};E.prototype.Lj=function(a){switch(this.V){case F:this.g.muted!==!!a&&(this.g.muted=!!a);break;case C:this.mf=a?0:1,this.Ja.gain.value=na*this.volume*this.mf}};E.prototype.kl=function(a){this.Xh=!!a;this.Lj(this.Wh||this.Xh)};E.prototype.Gl=function(){var a=
this.playbackRate;if(1===Ra&&!this.cf||2===Ra)a*=z.Vd;switch(this.V){case F:this.g.playbackRate!==a&&(this.g.playbackRate=a);break;case C:this.buffer.V===C?this.g.playbackRate.value!==a&&(this.g.playbackRate.value=a):this.g.playbackRate!==a&&(this.g.playbackRate=a)}};E.prototype.Ro=function(a){switch(this.V){case F:a?this.he()?(this.g.pause(),this.Mc=m):this.Mc=q:this.Mc&&this.g.play();break;case C:a?this.he()?(this.buffer.V===C?(this.Zb=this.Jh(),this.Lc&&(this.Zb%=this.ee()),c(this.g)):this.g.pause(),
this.Mc=m):this.Mc=q:this.Mc&&(this.buffer.V===C?(this.g=A.createBufferSource(),this.g.buffer=this.buffer.aa,this.g.connect(this.Ja),this.g.loop=this.Lc,this.Ja.gain.value=na*this.volume*this.mf,this.startTime=z.Sb.xb-this.Zb,b(this.g,this.Zb,this.ee())):this.g.play());break;case H:a?this.he()?(this.g.pause(),this.Mc=m):this.Mc=q:this.Mc&&this.g.play()}};t.Ea=function(b){this.type=b;z=this.b=b.b;K=this;this.bb=n;this.jf=-600;A=n;"undefined"!==typeof AudioContext?(M=C,A=new AudioContext):"undefined"!==
typeof webkitAudioContext&&(M=C,A=new webkitAudioContext);this.b.Md&&M===C&&document.addEventListener("touchstart",function(){if(!Gb){var b=A.createBuffer(1,1,22050),c=A.createBufferSource();c.buffer=b;c.connect(A.destination);a(c);Gb=m}},m);M!==C&&(this.b.Ld?M=H:this.b.ge&&(M=W));M===H&&(N=location.href,b=N.lastIndexOf("/"),-1<b&&(N=N.substr(0,b+1)),N=N.replace("file://",""));if(this.b.ao&&this.b.mk&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),
this.b.yd(this);else{if(!this.b.Hb)try{new Audio}catch(c){}this.b.Yi(this)}};var oa=t.Ea.prototype;oa.Y=function(){Ra=this.Z[0];cb=this.Z[1];db=this.Z[2];this.jf=-this.Z[3];Db=this.Z[4];Eb=this.Z[5];Fb=this.Z[6];this.bb=new D;M===C&&(A.listener.speedOfSound=this.Z[7],A.listener.dopplerFactor=this.Z[8],A.listener.setPosition(this.b.width/2,this.b.height/2,this.jf),A.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,b){va&&va.disconnect();bb=b.toLowerCase();va=A.createMediaStreamSource(a);
va.connect(g(bb))});this.b.uj(function(a){K.uo(a)});var a=this;this.b.pm(function(b){a.mo(b)})};oa.mo=function(a){var b,c,d;b=0;for(c=O.length;b<c;b++)d=O[b],d.fa&&d.fa.O===a&&(d.fa.O=n,d.qc&&(d.he()&&d.Lc)&&d.stop());this.bb.O===a&&(this.bb.O=n)};oa.Kb=function(){var a={silent:Fa,masterVolume:na,listenerZ:this.jf,listenerUid:this.bb.hg()?this.bb.O.uid:-1,playing:[],effects:{}},b=a.playing,c,d,e,f,k,g;c=0;for(d=O.length;c<d;c++)e=O[c],e.he()&&(f=e.Jh(),e.Lc&&(f%=e.ee()),f={tag:e.ud,buffersrc:e.buffer.src,
is_music:e.cf,playbackTime:f,volume:e.volume,looping:e.Lc,muted:e.Wh,playbackRate:e.playbackRate,paused:e.dd,resume_position:e.Zb},e.qc&&(f.pan={},g=f.pan,e.fa&&e.fa.hg()?g.objUid=e.fa.O.uid:(g.x=e.Tk,g.y=e.Uk,g.a=e.Pk),g.ia=e.Qk,g.oa=e.Rk,g.og=e.Sk),b.push(f));b=a.effects;for(k in R)if(R.hasOwnProperty(k)){e=[];c=0;for(d=R[k].length;c<d;c++)e.push({type:R[k][c].type,params:R[k][c].Wb});b[k]=e}return a};var Ga=[];oa.nc=function(a){var b=a.silent;na=a.masterVolume;this.jf=a.listenerZ;this.bb.yf(n);
var c=a.listenerUid;-1!==c&&(this.bb.xg=c,Ga.push(this.bb));var c=a.playing,d,g,l,p,t,E,z,I,A,B,C;d=0;for(g=O.length;d<g;d++)O[d].stop();for(t in R)if(R.hasOwnProperty(t)){d=0;for(g=R[t].length;d<g;d++)R[t][d].remove()}Ia(R);for(t in a.effects)if(a.effects.hasOwnProperty(t)){E=a.effects[t];d=0;for(g=E.length;d<g;d++)switch(l=E[d].type,B=E[d].params,l){case "filter":Q(t,new e(B[0],B[1],B[2],B[3],B[4],B[5]));break;case "delay":Q(t,new h(B[0],B[1],B[2]));break;case "convolve":l=B[2];p=this.Ch(l,q);p.aa?
l=new f(p.aa,B[0],B[1],l):(l=new f(n,B[0],B[1],l),p.Hk=B[0],p.Of=l);Q(t,l);break;case "flanger":Q(t,new k(B[0],B[1],B[2],B[3],B[4]));break;case "phaser":Q(t,new w(B[0],B[1],B[2],B[3],B[4],B[5]));break;case "gain":Q(t,new x(B[0]));break;case "tremolo":Q(t,new s(B[0],B[1]));break;case "ringmod":Q(t,new y(B[0],B[1]));break;case "distortion":Q(t,new u(B[0],B[1],B[2],B[3],B[4]));break;case "compressor":Q(t,new r(B[0],B[1],B[2],B[3],B[4]));break;case "analyser":Q(t,new v(B[0],B[1]))}}d=0;for(g=c.length;d<
g;d++)a=c[d],l=a.buffersrc,p=a.is_music,t=a.tag,E=a.playbackTime,z=a.looping,I=a.volume,C=(B=a.pan)&&B.hasOwnProperty("objUid")?B.objUid:-1,(A=this.wn(l,t,p,z,I))?(A.Zb=a.resume_position,A.jl(!!B),A.play(z,I,E),A.Gl(),A.Zo(),A.Lj(A.Wh||A.Xh),a.paused&&A.pause(),a.muted&&A.Dq(),B&&(-1!==C?(A.fa=A.fa||new D,A.fa.xg=C,Ga.push(A.fa)):A.Oi(B.x,B.y,B.a,B.ia,B.oa,B.og))):(p=this.Ch(l,p),p.Lg=E,p.Dg=a.paused,B&&(-1!==C?p.ve.push({Jk:C,Nh:B.ia,ni:B.oa,qi:B.og,wl:t}):p.ve.push({x:B.x,y:B.y,lm:B.a,Nh:B.ia,ni:B.oa,
qi:B.og,wl:t})));if(b&&!Fa){d=0;for(g=O.length;d<g;d++)O[d].kl(m);Fa=m}else if(!b&&Fa){d=0;for(g=O.length;d<g;d++)O[d].kl(q);Fa=q}};oa.Jf=function(){var a,b,c;a=0;for(b=Ga.length;a<b;a++)c=Ga[a],c.yf(this.b.Ih(c.xg)),c.xg=-1;Ga.length=0};oa.uo=function(a){var b,c;b=0;for(c=O.length;b<c;b++)O[b].Ro(a)};oa.Qa=function(){var a=this.b.Fd,b,c,d;b=0;for(c=O.length;b<c;b++)d=O[b],d.Qa(a),d.V!==F&&d.V!==W&&(!d.ad&&!d.ac&&d.Xe())&&(d.ac=m,G=d.ud,z.trigger(Tb.prototype.j.Yg,K)),0!==Ra&&d.Gl();var e,f;for(e in R)if(R.hasOwnProperty(e)){d=
R[e];b=0;for(c=d.length;b<c;b++)f=d[b],f.Qa&&f.Qa()}M===C&&this.bb.hg()&&(this.bb.Qa(a),A.listener.setPosition(this.bb.O.x,this.bb.O.y,this.jf),A.listener.setVelocity(this.bb.Zj(),this.bb.$j(),0))};oa.Ch=function(a,b){var c,d,e;c=0;for(d=fa.length;c<d;c++)if(e=fa[c],e.src===a)return e;e=new I(a,b);fa.push(e);return e};oa.wn=function(a,b,c,d,e){var f,k,g;f=0;for(k=O.length;f<k;f++)if(g=O[f],g.src===a&&(g.wm()||c))return g.ud=b,g;a=this.Ch(a,c);if(!a.aa)return"<preload>"!==b&&(a.Eg=b,a.ii=d,a.gj=e),
n;g=new E(a,b);O.push(g);return g};var za=[];J.prototype.Yg=function(a){return G.toLowerCase()===a.toLowerCase()};t.j=new J;t.cc=new (L());t.Dc=new (L())})();function Ub(d){this.b=d}
(function(){function d(){}var g=Ub.prototype;g.Ra=function(d){this.ja=d;this.b=d.b};g.Ra.prototype.Y=L();g.Ea=function(d){this.type=d;this.b=d.b};g.Ea.prototype.Y=function(){var d=this;window.addEventListener("resize",function(){d.b.trigger(Ub.prototype.j.dm,d)});"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){d.b.trigger(Ub.prototype.j.Xl,d)}),window.addEventListener("offline",function(){d.b.trigger(Ub.prototype.j.Wl,d)}));"undefined"!==typeof window.applicationCache&&
(window.applicationCache.addEventListener("updateready",function(){d.b.le=1;d.b.trigger(Ub.prototype.j.pj,d)}),window.applicationCache.addEventListener("progress",function(g){d.b.le=g.loaded/g.total}));this.b.Hb||(document.addEventListener("appMobi.device.update.available",function(){d.b.trigger(Ub.prototype.j.pj,d)}),document.addEventListener("menubutton",function(){d.b.trigger(Ub.prototype.j.Vl,d)}),document.addEventListener("searchbutton",function(){d.b.trigger(Ub.prototype.j.em,d)}));this.b.uj(function(g){g?
d.b.trigger(Ub.prototype.j.Yl,d):d.b.trigger(Ub.prototype.j.Zl,d)});this.xq="undefined"!==typeof window.is_scirra_arcade;this.rq=""};d.prototype.Xl=S(m);d.prototype.Wl=S(m);d.prototype.pj=S(m);d.prototype.Zl=S(m);d.prototype.Yl=S(m);d.prototype.dm=S(m);d.prototype.Vl=S(m);d.prototype.em=S(m);g.j=new d;g.cc=new (L());g.Dc=new (L())})();function Vb(d){this.b=d}
(function(){function d(){}var g=Vb.prototype;g.Ra=function(d){this.ja=d;this.b=d.b};g.Ra.prototype.Y=L();g.Ea=function(d){this.type=d;this.b=d.b};g.Ea.prototype.Y=function(){this.lk=this.bo=q;this.De="";var d=this;this.b.bd&&(CocoonJS.Ad.onBannerShown.addEventListener(function(){d.bo=m;d.b.trigger(Vb.prototype.j.Ml,d)}),CocoonJS.Ad.onFullScreenShown.addEventListener(function(){d.lk=m;d.b.trigger(Vb.prototype.j.Rl,d)}),CocoonJS.Ad.onFullScreenHidden.addEventListener(function(){d.lk=q;d.b.trigger(Vb.prototype.j.Ql,
d)}),CocoonJS.Store.onProductPurchaseCompleted.addEventListener(function(g){d.De=g.productId;d.b.trigger(Vb.prototype.j.$l,d)}),CocoonJS.Store.onProductPurchaseFailed.addEventListener(function(g){d.De=g;d.b.trigger(Vb.prototype.j.am,d)}),CocoonJS.Store.onProductPurchaseStarted.addEventListener(function(g){d.De=g.productId;d.b.trigger(Vb.prototype.j.cm,d)}),CocoonJS.Store.start())};d.prototype.Ml=S(m);d.prototype.Rl=S(m);d.prototype.Ql=S(m);d.prototype.cm=function(d){return this.De===d};d.prototype.$l=
function(d){return this.De===d};d.prototype.am=function(d){return this.De===d};g.j=new d;g.cc=new (L())})();function Wb(d){this.b=d}
(function(){function d(){if(0===this.qh.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Ae?b.drawImage(this.T,this.te,this.ue,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.T,0,0,this.width,this.height);this.qh=a.toDataURL("image/png")}return this.qh}function g(){}var l=Wb.prototype;l.Ra=function(a){this.ja=a;this.b=a.b};var p=l.Ra.prototype;p.Y=function(){if(!this.L){var a,b,c,e,g,h,l,r,p;a=0;for(b=this.$.length;a<
b;a++){g=this.$[a];l={};l.name=g[0];l.speed=g[1];l.loop=g[2];l.Ii=g[3];l.Kg=g[4];l.Wk=g[5];l.G=g[6];l.frames=[];c=0;for(e=g[7].length;c<e;c++)h=g[7][c],r={},r.tl=h[0],r.ul=h[1],r.te=h[2],r.ue=h[3],r.width=h[4],r.height=h[5],r.duration=h[6],r.$a=h[7],r.ab=h[8],r.Oh=h[9],r.Fg=h[10],r.Xk=h[11],r.Ae=0!==r.width,r.qh="",r.uq=d,p={left:0,top:0,right:1,bottom:1},r.Si=p,r.Sc=n,(p=this.b.qn(h[0]))?r.T=p:(r.T=new Image,r.T.src=h[0],r.T.zm=h[0],r.T.ym=h[1],r.T.yc=n,this.b.xd.push(r.T)),l.frames.push(r);this.$[a]=
l}}};p.Iq=function(){var a,b,c;a=0;for(b=this.d.length;a<b;a++)c=this.d[a],c.Pe=c.sb.Sc};p.ri=function(){if(!this.L){var a,b,c,d,e,g;a=0;for(b=this.$.length;a<b;a++){e=this.$[a];c=0;for(d=e.frames.length;c<d;c++)g=e.frames[c],g.T.yc=n,g.Sc=n}}};p.Lk=function(){if(!this.L&&this.d.length){var a,b,c,d,e,g;a=0;for(b=this.$.length;a<b;a++){e=this.$[a];c=0;for(d=e.frames.length;c<d;c++)g=e.frames[c],g.T.yc||(g.T.yc=this.b.A.xk(g.T,this.b.ra,g.Xk)),g.Sc=g.T.yc}a=0;for(b=this.d.length;a<b;a++)c=this.d[a],
c.Pe=c.sb.Sc}};var a=[];p.El=function(){if(!this.L&&!this.d.length){var b=!!this.b.A,c,d,e,g,h,l,r,p;c=a.length=0;for(d=this.$.length;c<d;c++){l=this.$[c];e=0;for(g=l.frames.length;e<g;e++)if(r=l.frames[e],p=b?r.T.yc:r.T)h=a.indexOf(p),-1===h&&a.push(p),r.T.yc=n,r.Sc=n}c=0;for(d=a.length;c<d;c++)p=a[c],b?this.b.A.deleteTexture(p):p.hintUnload&&p.hintUnload();a.length=0}};var b=[];p.$k=function(a){var c,d,e,g,h,l;c=b.length=0;for(d=this.$.length;c<d;c++){h=this.$[c];e=0;for(g=h.frames.length;e<g;e++)l=
h.frames[e].T,-1===b.indexOf(l)&&(a.drawImage(l,0,0),b.push(l))}};l.Ea=function(a){this.type=a;this.b=a.b;a=this.type.$[0].frames[0].Fg;this.Yb?this.fc.zf(a):this.fc=new Na(a)};var c=l.Ea.prototype;c.Y=function(){this.visible=0===this.Z[0];this.ck=this.co=q;this.Nf=0!==this.Z[2];!(1===this.type.$.length&&1===this.type.$[0].frames.length)&&0!==this.type.$[0].speed&&(this.b.Yi(this),this.co=m);this.da=this.type.$[0];this.m=this.Z[1];0>this.m&&(this.m=0);this.m>=this.da.frames.length&&(this.m=this.da.frames.length-
1);if(0!==this.m){var a=this.da.frames[this.m];this.fc.zf(a.Fg);this.$a=a.$a;this.ab=a.ab}this.Qe=this.type.$[0].speed;this.Ec=this.cg();this.Bd=m;this.wc=0;this.zd=m;this.ih=this.wj="";this.xm=0;this.hh=-1;var b,c,d,e,g,h,l,a=0;for(b=this.type.$.length;a<b;a++){e=this.type.$[a];c=0;for(d=e.frames.length;c<d;c++)g=e.frames[c],g.T.hintLoad&&g.T.hintLoad(),0===g.width&&(g.width=g.T.width,g.height=g.T.height),g.Ae&&(l=g.T,h=g.Si,h.left=g.te/l.width,h.top=g.ue/l.height,h.right=(g.te+g.width)/l.width,
h.bottom=(g.ue+g.height)/l.height,0===g.te&&(0===g.ue&&g.width===l.width&&g.height===l.height)&&(g.Ae=q)),this.b.A&&(g.T.yc||(g.T.yc=this.b.A.xk(g.T,this.b.ra,g.Xk)),g.Sc=g.T.yc)}this.sb=this.da.frames[this.m];this.Pe=this.sb.Sc};c.Kb=function(){var a={a:this.da.G,f:this.m,cas:this.Qe,fs:this.Ec,ar:this.wc};this.Bd||(a.ap=this.Bd);this.zd||(a.af=this.zd);return a};c.nc=function(a){var b=this.vn(a.a);b&&(this.da=b);this.m=a.f;0>this.m&&(this.m=0);this.m>=this.da.frames.length&&(this.m=this.da.frames.length-
1);this.Qe=a.cas;this.Ec=a.fs;this.wc=a.ar;this.Bd=a.hasOwnProperty("ap")?a.ap:m;this.zd=a.hasOwnProperty("af")?a.af:m;this.sb=this.da.frames[this.m];this.Pe=this.sb.Sc;this.fc.zf(this.sb.Fg);this.$a=this.sb.$a;this.ab=this.sb.ab};c.dh=function(a){this.m=a?0:this.da.frames.length-1;this.Bd=q;this.wj=this.da.name;this.ck=m;this.b.trigger(Wb.prototype.j.Ll,this);this.b.trigger(Wb.prototype.j.Kl,this);this.ck=q;this.wc=0};c.cg=function(){return(Date.now()-this.b.Bf)/1E3};c.Qa=function(){this.ih.length&&
this.Cm();0<=this.hh&&this.Dm();var a=this.cg(),b=this.da,c=b.frames[this.m],d=c.duration/this.Qe,e=this.b.Vd;-1!==this.Rd&&(e=this.Rd);d/=0===e?1E-9:e;if(this.Bd&&a>=this.Ec+d){this.zd?this.m++:this.m--;this.Ec+=d;this.m>=b.frames.length&&(b.Wk?(this.zd=q,this.m=b.frames.length-2):b.loop?this.m=b.Kg:(this.wc++,this.wc>=b.Ii?this.dh(q):this.m=b.Kg));0>this.m&&(b.Wk?(this.m=1,this.zd=m,b.loop||(this.wc++,this.wc>=b.Ii&&this.dh(m))):b.loop?this.m=b.Kg:(this.wc++,this.wc>=b.Ii?this.dh(m):this.m=b.Kg));
0>this.m?this.m=0:this.m>=b.frames.length&&(this.m=b.frames.length-1);if(a>this.Ec+b.frames[this.m].duration/this.Qe/(0===e?1E-9:e))this.Ec=a;a=b.frames[this.m];this.Ie(c,a);this.b.R=m}};c.un=function(a){var b,c,d=a.toLowerCase();a=0;for(b=this.type.$.length;a<b;a++)if(c=this.type.$[a],c.name.toLowerCase()===d)return c;return n};c.vn=function(a){var b,c,d;b=0;for(c=this.type.$.length;b<c;b++)if(d=this.type.$[b],d.G===a)return d;return n};c.Cm=function(){var a=this.da.frames[this.m],b=this.un(this.ih);
this.ih="";b&&!(b.name.toLowerCase()===this.da.name.toLowerCase()&&this.Bd)&&(this.da=b,this.Qe=b.speed,0>this.m&&(this.m=0),this.m>=this.da.frames.length&&(this.m=this.da.frames.length-1),1===this.xm&&(this.m=0),this.Bd=m,this.Ec=this.cg(),this.zd=m,this.Ie(a,this.da.frames[this.m]),this.b.R=m)};c.Dm=function(){var a=this.da.frames[this.m],b=this.m;this.m=ia(this.hh);0>this.m&&(this.m=0);this.m>=this.da.frames.length&&(this.m=this.da.frames.length-1);b!==this.m&&(this.Ie(a,this.da.frames[this.m]),
this.Ec=this.cg(),this.b.R=m);this.hh=-1};c.Ie=function(a,b){var c=a.width,d=a.height,e=b.width,g=b.height;c!=e&&(this.width*=e/c);d!=g&&(this.height*=g/d);this.$a=b.$a;this.ab=b.ab;this.fc.zf(b.Fg);this.Ga();this.sb=b;this.Pe=b.Sc;c=0;for(d=this.N.length;c<d;c++)e=this.N[c],e.to&&e.to(a,b);this.b.trigger(Wb.prototype.j.Ie,this)};c.Cc=function(a){a.globalAlpha=this.opacity;var b=this.sb,c=b.Ae,d=b.T,e=this.x,g=this.y,h=this.width,l=this.height;if(0===this.i&&0<=h&&0<=l)e-=this.$a*h,g-=this.ab*l,this.b.ld&&
(e=e+0.5|0,g=g+0.5|0),c?a.drawImage(d,b.te,b.ue,b.width,b.height,e,g,h,l):a.drawImage(d,e,g,h,l);else{this.b.ld&&(e=e+0.5|0,g=g+0.5|0);a.save();var p=0<h?1:-1,D=0<l?1:-1;a.translate(e,g);(1!==p||1!==D)&&a.scale(p,D);a.rotate(this.i*p*D);e=0-this.$a*da(h);g=0-this.ab*da(l);c?a.drawImage(d,b.te,b.ue,b.width,b.height,e,g,da(h),da(l)):a.drawImage(d,e,g,da(h),da(l));a.restore()}};c.Qb=function(a){a.Lb(this.Pe);a.ye(this.opacity);var b=this.sb,c=this.ec;if(this.b.ld){var d=(this.x+0.5|0)-this.x,e=(this.y+
0.5|0)-this.y;b.Ae?a.md(c.Ma+d,c.Na+e,c.yb+d,c.zb+e,c.qb+d,c.rb+e,c.ob+d,c.pb+e,b.Si):a.Jg(c.Ma+d,c.Na+e,c.yb+d,c.zb+e,c.qb+d,c.rb+e,c.ob+d,c.pb+e)}else b.Ae?a.md(c.Ma,c.Na,c.yb,c.zb,c.qb,c.rb,c.ob,c.pb,b.Si):a.Jg(c.Ma,c.Na,c.yb,c.zb,c.qb,c.rb,c.ob,c.pb)};c.Bn=function(a){var b=this.sb,c,d;c=0;for(d=b.Oh.length;c<d;c++)if(a.toLowerCase()===b.Oh[c][0].toLowerCase())return c;return-1};c.Gh=function(a,b){var c=this.sb,d=c.Oh,e;e=U(a)?this.Bn(a):a-1;e=ia(e);if(0>e||e>=d.length)return b?this.x:this.y;
var g=(d[e][1]-c.$a)*this.width,d=d[e][2],d=(d-c.ab)*this.height,c=Math.cos(this.i);e=Math.sin(this.i);var h=g*c-d*e,d=d*c+g*e,g=h+this.x,d=d+this.y;return b?g:d};var e=new Ka,h=q;p.finish=function(a){if(h){if(a){var b=this.b.Fb().hc.pc;a=n.qa();var c=e.Ff(),d,g;if(a.za){a.za=q;a.d.length=c.length;d=0;for(g=c.length;d<g;d++)a.d[d]=c[d];if(b){d=a.ca.length=0;for(g=n.d.length;d<g;d++)b=n.d[d],e.contains(b)||a.ca.push(b)}}else{var l=a.d.length;a.d.length=l+c.length;d=0;for(g=c.length;d<g;d++)a.d[l+d]=
c[d],b&&ra(a.ca,c[d])}n.Je()}e.clear();h=q}};g.prototype.Kl=function(a){return this.wj.toLowerCase()===a.toLowerCase()};g.prototype.Ll=S(m);g.prototype.Ie=S(m);l.j=new g;l.cc=new (L());l.Dc=new (L())})();function Xb(d){this.b=d}
(function(){function d(){return b.length?b.pop():{}}function g(a){var d,g;d=0;for(g=a.length;d<g;d++)b.push(a[d]);a.length=0}var l=Xb.prototype;l.Y=function(){l.cc.fm=function(a){this.width!==a&&(this.width=a,this.Ce=m,this.Ga())}};l.Ra=function(a){this.ja=a;this.b=a.b};var p=l.Ra.prototype;p.Y=L();p.ri=function(){if(!this.L){var a,b,d;a=0;for(b=this.d.length;a<b;a++)d=this.d[a],d.oc=n,d.Sd=n,d.cb=n}};l.Ea=function(a){this.type=a;this.b=a.b;this.Yb?this.fd.length=0:this.fd=[];this.Ce=m};p=l.Ea.prototype;
p.Y=function(){this.text=this.Z[0];this.visible=0===this.Z[1];this.font=this.Z[2];this.color=this.Z[3];this.gg=this.Z[4];this.Vg=this.Z[5];this.ij=0===this.Z[7];this.Yh=this.Pd=this.width;this.Od=this.height;this.bi=this.Z[8];this.Zf=this.be="";var a=this.font.split(" ");this.rl=this.sl=this.tf=0;var b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.tf=parseInt(a[b].substr(0,a[b].length-2));this.Ei=Math.ceil(96*(this.tf/72))+4;0<b&&(this.Zf=a[b-1]);this.be=a[b+1];for(b+=2;b<a.length;b++)this.be+=
" "+a[b];break}this.cb=this.Sd=this.oc=n;this.Fk=q;this.hf=this.b.Pc;this.Yb?this.xe.set(0,0,1,1):this.xe=new ka(0,0,1,1);this.b.A&&this.b.Yi(this)};p.Kb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.gg,va:this.Vg,wr:this.ij,lho:this.bi,fn:this.be,fs:this.Zf,ps:this.tf,pxh:this.Ei,tw:this.sl,th:this.rl,lrt:this.hf}};p.nc=function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.gg=a.ha;this.Vg=a.va;this.ij=a.wr;this.bi=a.lho;this.be=a.fn;this.Zf=a.fs;this.tf=a.ps;this.Ei=a.pxh;
this.sl=a.tw;this.rl=a.th;this.hf=a.lrt;this.Ce=m;this.Yh=this.Pd=this.width;this.Od=this.height};p.Qa=function(){if(this.b.A&&this.cb&&300<=this.b.Pc-this.hf){var a=this.e;this.Ob();var b=this.K;if(b.right<a.kb||b.bottom<a.mb||b.left>a.lb||b.top>a.jb)this.b.A.deleteTexture(this.cb),this.oc=this.Sd=this.cb=n}};p.Cg=function(){this.oc=this.Sd=n;this.b.A&&this.cb&&this.b.A.deleteTexture(this.cb);this.cb=n};p.Jq=function(){this.font=this.Zf+" "+this.tf.toString()+"pt "+this.be;this.Ce=m;this.b.R=m};
p.Cc=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var d=1;b&&(d=this.e.Ya(),a.save(),a.scale(d,d));if(this.Ce||this.width!==this.Yh)this.type.ja.hm(this.text,this.fd,a,this.width,this.ij),this.Ce=q,this.Yh=this.width;this.Ob();var d=b?0:this.ec.Ma,f=b?0:this.ec.Na;this.b.ld&&(d=d+0.5|0,f=f+0.5|0);0!==this.i&&!b&&(a.save(),a.translate(d,f),a.rotate(this.i),f=d=0);var g=f+this.height,l=this.Ei,l=l+this.bi*this.b.devicePixelRatio,p,s;1===this.Vg?
f+=Math.max(this.height/2-this.fd.length*l/2,0):2===this.Vg&&(f+=Math.max(this.height-this.fd.length*l-2,0));for(s=0;s<this.fd.length&&!(p=d,1===this.gg?p=d+(this.width-this.fd[s].width)/2:2===this.gg&&(p=d+(this.width-this.fd[s].width)),a.fillText(this.fd[s].text,p,f),f+=l,f>=g-l);s++);(0!==this.i||b)&&a.restore();this.hf=this.b.Pc};p.Qb=function(a){if(!(1>this.width||1>this.height)){var b=this.Ce||this.Fk;this.Fk=q;var d=this.e.Ya(),f=this.e.Gc(),g=this.xe,l=d*this.width,p=d*this.height,s=Math.ceil(l),
y=Math.ceil(p),u=this.b.width/2,r=this.b.height/2;this.Sd||(this.oc=document.createElement("canvas"),this.oc.width=s,this.oc.height=y,this.Pd=s,this.Od=y,b=m,this.Sd=this.oc.getContext("2d"));if(s!==this.Pd||y!==this.Od)this.oc.width=s,this.oc.height=y,this.cb&&(a.deleteTexture(this.cb),this.cb=n),b=m;b&&(this.Sd.clearRect(0,0,s,y),this.Cc(this.Sd,m),this.cb||(this.cb=a.zc(s,y,this.b.ra,this.b.cd)),a.ep(this.oc,this.cb,this.b.cd));this.Pd=s;this.Od=y;a.Lb(this.cb);a.ye(this.opacity);a.rc();a.translate(-u,
-r);a.tc();var v=this.ec,b=this.e.wa(v.Ma,v.Na,m),u=this.e.wa(v.Ma,v.Na,q),r=this.e.wa(v.yb,v.zb,m),D=this.e.wa(v.yb,v.zb,q),I=this.e.wa(v.qb,v.rb,m),E=this.e.wa(v.qb,v.rb,q),Q=this.e.wa(v.ob,v.pb,m),v=this.e.wa(v.ob,v.pb,q);if(this.b.ld||0===this.i&&0===f)var J=(b+0.5|0)-b,t=(u+0.5|0)-u,b=b+J,u=u+t,r=r+J,D=D+t,I=I+J,E=E+t,Q=Q+J,v=v+t;0===this.i&&0===f?(r=b+s,D=u,I=r,E=u+y,Q=b,v=E,g.right=1,g.bottom=1):(g.right=l/s,g.bottom=p/y);a.md(b,u,r,D,I,E,Q,v,g);a.rc();a.scale(d,d);a.Ki(-this.e.Gc());a.translate((this.e.kb+
this.e.lb)/-2,(this.e.mb+this.e.jb)/-2);a.tc();this.hf=this.b.Pc}};var a=[];l.gm=function(b){a.length=0;for(var d="",g,f=0;f<b.length;)if(g=b.charAt(f),"\n"===g)d.length&&(a.push(d),d=""),a.push("\n"),++f;else if(" "===g||"\t"===g||"-"===g){do d+=b.charAt(f),f++;while(f<b.length&&(" "===b.charAt(f)||"\t"===b.charAt(f)));a.push(d);d=""}else f<b.length&&(d+=g,f++);d.length&&a.push(d)};var b=[];l.hm=function(a,b,h,f,k){if(!a||!a.length)g(b);else if(2>=f)g(b);else{if(100>=a.length&&-1===a.indexOf("\n")){var l=
h.measureText(a).width;if(l<=f){g(b);b.push(d());b[0].text=a;b[0].width=l;return}}this.im(a,b,h,f,k)}};l.im=function(c,e,g,f,k){k&&(this.gm(c),c=a);var l="",p,s,y,u=0;for(y=0;y<c.length;y++)"\n"===c[y]?(u>=e.length&&e.push(d()),s=e[u],s.text=l,s.width=g.measureText(l).width,u++,l=""):(p=l,l+=c[y],s=g.measureText(l).width,s>=f&&(u>=e.length&&e.push(d()),s=e[u],s.text=p,s.width=g.measureText(p).width,u++,l=c[y],!k&&" "===l&&(l="")));l.length&&(u>=e.length&&e.push(d()),s=e[u],s.text=l,s.width=g.measureText(l).width,
u++);for(y=u;y<e.length;y++)b.push(e[y]);e.length=u};l.j=new (L());l.cc=new (L());l.Dc=new (L())})();function Yb(d){this.b=d}
(function(){function d(a){e=a.x;h=a.y;f=a.Il}function g(a){k=a.x;w=a.y;x=a.Il}function l(){}function p(){}var a=Yb.prototype;a.Ra=function(a){this.ja=a;this.b=a.b};a.Ra.prototype.Y=L();a.Ea=function(a){this.type=a;this.b=a.b;this.touches=[];this.ki=q};var b=a.Ea.prototype,c={left:0,top:0};b.Yf=function(a){var b,c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var e=0,h=0,f=0,k=0,w=0,x=0;b.Y=function(){this.eo=!!("undefined"!==typeof window.c2isWindows8&&window.c2isWindows8);
this.Rg=this.wd=this.oh=this.nh=this.sj=this.rj=this.qj=this.om=this.nm=this.mm=this.qf=this.pf=this.of=0;this.cp=0!==this.Z[0];var a=0<this.b.Fc?document:this.b.canvas,b=document;this.b.Hb?b=a=window.Canvas:this.b.bd&&(b=a=window);var c=this;window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.so(a)},q),a.addEventListener("MSPointerMove",function(a){c.ro(a)},q),b.addEventListener("MSPointerUp",function(a){c.Kk(a)},q),b.addEventListener("MSPointerCancel",function(a){c.Kk(a)},
q),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},q),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},q))):(a.addEventListener("touchstart",function(a){c.Nk(a)},q),a.addEventListener("touchmove",function(a){c.Mk(a)},q),b.addEventListener("touchend",function(a){c.si(a)},q),b.addEventListener("touchcancel",function(a){c.si(a)},q));if(this.eo){var e=function(a){a=a.reading;c.qj=a.accelerationX;c.rj=a.accelerationY;c.sj=a.accelerationZ},
f=function(a){a=a.reading;c.of=a.yawDegrees;c.pf=a.pitchDegrees;c.qf=a.rollDegrees},h=Windows.Devices.Sensors.Accelerometer.getDefault();h&&(h.reportInterval=Math.max(h.minimumReportInterval,16),h.addEventListener("readingchanged",e));var k=Windows.Devices.Sensors.Inclinometer.getDefault();k&&(k.reportInterval=Math.max(k.minimumReportInterval,16),k.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(h&&h.removeEventListener("readingchanged",
e),k&&k.removeEventListener("readingchanged",f)):(h&&h.addEventListener("readingchanged",e),k&&k.addEventListener("readingchanged",f))},q)}else window.addEventListener("deviceorientation",function(a){c.of=a.alpha||0;c.pf=a.beta||0;c.qf=a.gamma||0},q),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.mm=a.accelerationIncludingGravity.x,c.nm=a.accelerationIncludingGravity.y,c.om=a.accelerationIncludingGravity.z);a.acceleration&&(c.qj=a.acceleration.x,c.rj=a.acceleration.y,
c.sj=a.acceleration.z)},q);this.cp&&!this.b.Ua&&(jQuery(document).mousemove(function(a){c.po(a)}),jQuery(document).mousedown(function(a){c.oo(a)}),jQuery(document).mouseup(function(a){c.qo(a)}));this.b.ge&&!this.b.Hb&&AppMobi.accelerometer.watchAcceleration(d,{frequency:40,adjustForRotation:m});this.b.Ld&&navigator.accelerometer.watchAcceleration(g,n,{frequency:40});this.b.Yo(this)};b.ro=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE){a.preventDefault&&a.preventDefault();var b=this.Yf(a.pointerId),
d=Ja();if(0<=b){var e=this.b.Ua?c:jQuery(this.b.canvas).offset(),b=this.touches[b];2>d-b.time||(b.ug=b.time,b.Zh=b.x,b.$h=b.y,b.time=d,b.x=a.pageX-e.left,b.y=a.pageY-e.top)}}};b.so=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE){a.preventDefault&&a.preventDefault();var b=this.b.Ua?c:jQuery(this.b.canvas).offset(),d=a.pageX-b.left,b=a.pageY-b.top,e=Ja();this.wd=this.touches.length;this.Rg=a.pointerId;this.touches.push({time:e,x:d,y:b,ug:e,Zh:d,$h:b,id:a.pointerId,Vi:this.wd});this.b.trigger(Yb.prototype.j.lj,
this);this.b.trigger(Yb.prototype.j.oj,this);this.nh=d;this.oh=b;this.b.trigger(Yb.prototype.j.nj,this)}};b.Kk=function(a){a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&(a.preventDefault&&a.preventDefault(),a=this.Yf(a.pointerId),this.wd=0<=a?this.touches[a].Vi:-1,this.Rg=0<=a?this.touches[a].id:-1,this.b.trigger(Yb.prototype.j.kj,this),this.b.trigger(Yb.prototype.j.mj,this),0<=a&&this.touches.splice(a,1))};b.Mk=function(a){a.preventDefault&&a.preventDefault();var b=Ja(),d,e,f,g;d=0;for(e=a.changedTouches.length;d<
e;d++)if(f=a.changedTouches[d],g=this.Yf(f.identifier),0<=g){var h=this.b.Ua?c:jQuery(this.b.canvas).offset();g=this.touches[g];2>b-g.time||(g.ug=g.time,g.Zh=g.x,g.$h=g.y,g.time=b,g.x=f.pageX-h.left,g.y=f.pageY-h.top)}};b.Nk=function(a){a.preventDefault&&a.preventDefault();var b=this.b.Ua?c:jQuery(this.b.canvas).offset(),d=Ja(),e,f,g;e=0;for(f=a.changedTouches.length;e<f;e++){g=a.changedTouches[e];var h=g.pageX-b.left,k=g.pageY-b.top;this.wd=this.touches.length;this.Rg=g.identifier;this.touches.push({time:d,
x:h,y:k,ug:d,Zh:h,$h:k,id:g.identifier,Vi:this.wd});this.b.trigger(Yb.prototype.j.lj,this);this.b.trigger(Yb.prototype.j.oj,this);this.nh=h;this.oh=k;this.b.trigger(Yb.prototype.j.nj,this)}};b.si=function(a){a.preventDefault&&a.preventDefault();var b,c,d;b=0;for(c=a.changedTouches.length;b<c;b++)d=a.changedTouches[b],d=this.Yf(d.identifier),this.wd=0<=d?this.touches[d].Vi:-1,this.Rg=0<=d?this.touches[d].id:-1,this.b.trigger(Yb.prototype.j.kj,this),this.b.trigger(Yb.prototype.j.mj,this),0<=d&&this.touches.splice(d,
1)};b.sq=function(){return this.b.ge&&0===this.of&&0!==f?90*f:this.b.Ld&&0===this.of&&0!==x?90*x:this.of};b.tq=function(){return this.b.ge&&0===this.pf&&0!==h?-90*h:this.b.Ld&&0===this.pf&&0!==w?-90*w:this.pf};b.vq=function(){return this.b.ge&&0===this.qf&&0!==e?90*e:this.b.Ld&&0===this.qf&&0!==k?90*k:this.qf};b.oo=function(a){a.preventDefault&&this.b.fg&&a.preventDefault();this.Nk({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.ki=m};b.po=function(a){a.preventDefault&&this.b.fg&&
a.preventDefault();this.ki&&this.Mk({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};b.qo=function(a){a.preventDefault&&this.b.fg&&a.preventDefault();this.b.fg=m;this.si({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.ki=q};b.Xi=function(){var a,b,c,d=Ja();a=0;for(b=this.touches.length;a<b;a++)c=this.touches[a],c.time<=d-50&&(c.ug=d)};l.prototype.oj=S(m);l.prototype.mj=S(m);l.prototype.nj=function(a){return!a?q:this.b.Wo(a,this.nh,this.oh)};l.prototype.lj=function(a){a=
Math.floor(a);return a===this.wd};l.prototype.kj=function(a){a=Math.floor(a);return a===this.wd};a.j=new l;p.prototype.jm=function(a,b){if(this.touches.length){var c,d,e,g,f;aa(b)?(c=this.b.Ue(0),d=c.scale,e=c.Tc,g=c.hd,f=c.i,c.scale=this.b.S.scale,c.Tc=1,c.hd=1,c.i=this.b.S.i,a.F(c.Wa(this.touches[0].x,this.touches[0].y,m)),c.scale=d,c.Tc=e,c.hd=g,c.i=f):(c=ba(b)?this.b.Ue(b):this.b.Hh(b))?a.F(c.Wa(this.touches[0].x,this.touches[0].y,m)):a.F(0)}else a.F(0)};p.prototype.km=function(a,b){if(this.touches.length){var c,
d,e,g,f;aa(b)?(c=this.b.Ue(0),d=c.scale,e=c.Tc,g=c.jd,f=c.i,c.scale=this.b.S.scale,c.Tc=1,c.jd=1,c.i=this.b.S.i,a.F(c.Wa(this.touches[0].x,this.touches[0].y,q)),c.scale=d,c.Tc=e,c.jd=g,c.i=f):(c=ba(b)?this.b.Ue(b):this.b.Hh(b))?a.F(c.Wa(this.touches[0].x,this.touches[0].y,q)):a.F(0)}else a.F(0)};a.Dc=new p})();function Zb(d){this.b=d}
(function(){var d=Zb.prototype;d.Ra=function(d){this.ja=d;this.b=d.b};d.Ra.prototype.Y=L();d.Ea=function(d){this.type=d;this.b=d.b};d.Ea.prototype.Y=L();d.j=new (L());d.cc=new (L());d.Dc=new (L())})();
function sb(){return[n,n,[[Wb,q,m,m,m,m,m,m,m,q],[Xb,q,m,m,m,m,m,m,m,q],[Yb,m,q,q,q,q,q,q,q,q],[Zb,m,q,q,q,q,q,q,q,q],[Tb,m,q,q,q,q,q,q,q,q],[Ub,m,q,q,q,q,q,q,q,q],[Vb,m,q,q,q,q,q,q,q,q]],[["t0",Zb,q,[],0,0,n,n,[],q,q,0,[],[]],["t1",Yb,q,[],0,0,n,n,[],q,q,1,[],[1]],["t2",Ub,q,[],0,0,n,n,[],q,q,2,[],[]],["t3",Tb,q,[],0,0,n,n,[],q,q,3,[],[0,1,1,600,600,1E4,1,5E3,1]],["t4",Vb,q,[],0,0,n,n,[],q,q,4,[],[]],["t5",Wb,q,[],0,0,n,[["Default",5,q,1,0,q,8,[["images/tiles-sheet0.png",2344285,0,0,1536,1536,1,
0.5,0.5,[],[-0.499349,-0.499349,0.5,-0.5,0.442708,0,0.442708,0.442708,-0.403646,0.403646,-0.5,0],0]]]],[],q,q,7,[]],["t6",Xb,q,[],0,0,n,n,[],q,q,9,[]]],[],[["Layout 1",1280,1024,q,"Event sheet 1",5,[["Layer 0",0,6,m,[255,255,255],q,1,1,1,q,1,0,0,[[[126,109,0,200,30,0,0,1,0,0,0,0,[]],6,5,[],[],["Hello World !",0,"12pt Arial","rgb(0,0,0)",0,0,0,0,0]]],[]]],[],[]]],[["Event sheet 1",[]]],"media/",q,640,480,3,m,m,q,"1.0",1,q,0,m,6,q,[]]};
